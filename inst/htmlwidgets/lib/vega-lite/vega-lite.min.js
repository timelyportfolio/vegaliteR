!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.vl=e()}}(function(){var e;return function t(e,n,r){function a(o,s){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return a(n?n:t)},c,c.exports,t,e,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){},{}],2:[function(t,n,r){!function(){var t={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};"function"==typeof e&&e.amd?e(t):"object"==typeof n&&n.exports?n.exports=t:this.colorbrewer=t}()},{}],3:[function(e,t,n){t.exports=e("./colorbrewer.js")},{"./colorbrewer.js":2}],4:[function(t,n,r){!function(t,a){"object"==typeof r&&"undefined"!=typeof n?a(r):"function"==typeof e&&e.amd?e(["exports"],a):a(t.color={})}(this,function(e){"use strict";function t(e,t){var n=e-t;return n>180||-180>n?n-360*Math.round(n/360):n}function n(){}function r(e){var t;return e=(e+"").trim().toLowerCase(),(t=L.exec(e))?(t=parseInt(t[1],16),i(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t)):(t=O.exec(e))?a(parseInt(t[1],16)):(t=A.exec(e))?i(t[1],t[2],t[3]):(t=E.exec(e))?i(255*t[1]/100,255*t[2]/100,255*t[3]/100):(t=N.exec(e))?u(t[1],t[2]/100,t[3]/100):R.hasOwnProperty(e)?a(R[e]):null}function a(e){return i(e>>16&255,e>>8&255,255&e)}function i(e,t,a){return 1===arguments.length&&(e instanceof n||(e=r(e)),e?(e=e.rgb(),a=e.b,t=e.g,e=e.r):e=t=a=NaN),new o(e,t,a)}function o(e,t,n){this.r=+e,this.g=+t,this.b=+n}function s(e,t,n){return"#"+(isNaN(e)?"00":(e=Math.round(e))<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16))+(isNaN(t)?"00":(t=Math.round(t))<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16))+(isNaN(n)?"00":(n=Math.round(n))<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16))}function u(e,t,a){if(1===arguments.length)if(e instanceof f)a=e.l,t=e.s,e=e.h;else if(e instanceof n||(e=r(e)),e){if(e instanceof f)return e;e=e.rgb();var i=e.r/255,o=e.g/255,s=e.b/255,u=Math.min(i,o,s),c=Math.max(i,o,s),l=c-u;a=(c+u)/2,l?(t=.5>a?l/(c+u):l/(2-c-u),e=i===c?(o-s)/l+6*(s>o):o===c?(s-i)/l+2:(i-o)/l+4,e*=60):(e=NaN,t=a>0&&1>a?0:e)}else e=t=a=NaN;return new f(e,t,a)}function f(e,t,n){this.h=+e,this.s=+t,this.l=+n}function c(e,t,n){return 255*(60>e?t+(n-t)*e/60:180>e?n:240>e?t+(n-t)*(240-e)/60:t)}function l(e,t,n){if(1===arguments.length)if(e instanceof d)n=e.b,t=e.a,e=e.l;else if(e instanceof y){var r=e.h*G;n=Math.sin(r)*e.c,t=Math.cos(r)*e.c,e=e.l}else{e instanceof o||(e=i(e));var a=g(e.r),s=g(e.g),n=g(e.b),u=h((.4124564*a+.3575761*s+.1804375*n)/I),f=h((.2126729*a+.7151522*s+.072175*n)/z),c=h((.0193339*a+.119192*s+.9503041*n)/X);n=200*(f-c),t=500*(u-f),e=116*f-16}return new d(e,t,n)}function d(e,t,n){this.l=+e,this.a=+t,this.b=+n}function h(e){return e>B?Math.pow(e,1/3):e/W+H}function p(e){return e>q?e*e*e:W*(e-H)}function m(e){return 255*(.0031308>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function g(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function b(e,t,n){return 1===arguments.length&&(e instanceof y?(n=e.l,t=e.c,e=e.h):(e instanceof d||(e=l(e)),n=e.l,t=Math.sqrt(e.a*e.a+e.b*e.b),e=Math.atan2(e.b,e.a)*J,0>e&&(e+=360))),new y(e,t,n)}function y(e,t,n){this.h=+e,this.c=+t,this.l=+n}function v(e,t,n){if(1===arguments.length)if(e instanceof x)n=e.l,t=e.s,e=e.h;else{e instanceof o||(e=i(e));var r=e.r/255,a=e.g/255,s=e.b/255;n=(ae*s+ne*r-re*a)/(ae+ne-re);var u=s-n,f=(te*(a-n)-K*u)/ee;t=Math.sqrt(f*f+u*u)/(te*n*(1-n)),e=t?Math.atan2(f,u)*J-120:NaN,0>e&&(e+=360)}return new x(e,t,n)}function x(e,t,n){this.h=+e,this.s=+t,this.l=+n}function _(e){return function(n,r){n=v(n),r=v(r);var a=isNaN(n.h)?r.h:n.h,i=isNaN(n.s)?r.s:n.s,o=n.l,s=isNaN(r.h)?0:t(r.h,a),u=isNaN(r.s)?0:r.s-i,f=r.l-o;return function(t){return n.h=a+s*t,n.s=i+u*t,n.l=o+f*Math.pow(t,e),n+""}}}function w(e){return function(t,n){t=v(t),n=v(n);var r=isNaN(t.h)?n.h:t.h,a=isNaN(t.s)?n.s:t.s,i=t.l,o=isNaN(n.h)?0:n.h-r,s=isNaN(n.s)?0:n.s-a,u=n.l-i;return function(n){return t.h=r+o*n,t.s=a+s*n,t.l=i+u*Math.pow(n,e),t+""}}}function M(e,t){e=b(e),t=b(t);var n=isNaN(e.h)?t.h:e.h,r=isNaN(e.c)?t.c:e.c,a=e.l,i=isNaN(t.h)?0:t.h-n,o=isNaN(t.c)?0:t.c-r,s=t.l-a;return function(t){return e.h=n+i*t,e.c=r+o*t,e.l=a+s*t,e+""}}function S(e,n){e=b(e),n=b(n);var r=isNaN(e.h)?n.h:e.h,a=isNaN(e.c)?n.c:e.c,i=e.l,o=isNaN(n.h)?0:t(n.h,r),s=isNaN(n.c)?0:n.c-a,u=n.l-i;return function(t){return e.h=r+o*t,e.c=a+s*t,e.l=i+u*t,e+""}}function k(e,t){e=l(e),t=l(t);var n=e.l,r=e.a,a=e.b,i=t.l-n,o=t.a-r,s=t.b-a;return function(t){return e.l=n+i*t,e.a=r+o*t,e.b=a+s*t,e+""}}function T(e,t){e=u(e),t=u(t);var n=isNaN(e.h)?t.h:e.h,r=isNaN(e.s)?t.s:e.s,a=e.l,i=isNaN(t.h)?0:t.h-n,o=isNaN(t.s)?0:t.s-r,s=t.l-a;return function(t){return e.h=n+i*t,e.s=r+o*t,e.l=a+s*t,e+""}}function D(e,n){e=u(e),n=u(n);var r=isNaN(e.h)?n.h:e.h,a=isNaN(e.s)?n.s:e.s,i=e.l,o=isNaN(n.h)?0:t(n.h,r),s=isNaN(n.s)?0:n.s-a,f=n.l-i;return function(t){return e.h=r+o*t,e.s=a+s*t,e.l=i+f*t,e+""}}function C(e,t){e=i(e),t=i(t);var n=e.r,r=e.g,a=e.b,o=t.r-n,u=t.g-r,f=t.b-a;return function(e){return s(Math.round(n+o*e),Math.round(r+u*e),Math.round(a+f*e))}}var L=/^#([0-9a-f]{3})$/,O=/^#([0-9a-f]{6})$/,A=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,E=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,N=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/;r.prototype=n.prototype={displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}};var R={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},U=.7,j=1/U,Y=i.prototype=o.prototype=new n;Y.brighter=function(e){return e=null==e?j:Math.pow(j,e),new o(this.r*e,this.g*e,this.b*e)},Y.darker=function(e){return e=null==e?U:Math.pow(U,e),new o(this.r*e,this.g*e,this.b*e)},Y.rgb=function(){return this},Y.displayable=function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255},Y.toString=function(){return s(this.r,this.g,this.b)};var F=u.prototype=f.prototype=new n;F.brighter=function(e){return e=null==e?j:Math.pow(j,e),new f(this.h,this.s,this.l*e)},F.darker=function(e){return e=null==e?U:Math.pow(U,e),new f(this.h,this.s,this.l*e)},F.rgb=function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(.5>n?n:1-n)*t,a=2*n-r;return new o(c(e>=240?e-240:e+120,a,r),c(e,a,r),c(120>e?e+240:e-120,a,r))},F.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1};var P=18,I=.95047,z=1,X=1.08883,H=4/29,q=6/29,W=3*q*q,B=q*q*q,$=l.prototype=d.prototype=new n;$.brighter=function(e){return new d(this.l+P*(null==e?1:e),this.a,this.b)},$.darker=function(e){return new d(this.l-P*(null==e?1:e),this.a,this.b)},$.rgb=function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=z*p(e),t=I*p(t),n=X*p(n),new o(m(3.2404542*t-1.5371385*e-.4985314*n),m(-.969266*t+1.8760108*e+.041556*n),m(.0556434*t-.2040259*e+1.0572252*n))};var G=Math.PI/180,J=180/Math.PI,Z=b.prototype=y.prototype=new n;Z.brighter=function(e){return new y(this.h,this.c,this.l+P*(null==e?1:e))},Z.darker=function(e){return new y(this.h,this.c,this.l-P*(null==e?1:e))},Z.rgb=function(){return l(this).rgb()};var V=-.14861,Q=1.78277,K=-.29227,ee=-.90649,te=1.97294,ne=te*ee,re=te*Q,ae=Q*K-ee*V,ie=v.prototype=x.prototype=new n;ie.brighter=function(e){return e=null==e?j:Math.pow(j,e),new x(this.h,this.s,this.l*e)},ie.darker=function(e){return e=null==e?U:Math.pow(U,e),new x(this.h,this.s,this.l*e)},ie.rgb=function(){var e=isNaN(this.h)?0:(this.h+120)*G,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new o(255*(t+n*(V*r+Q*a)),255*(t+n*(K*r+ee*a)),255*(t+n*(te*r)))},e.interpolateCubehelix=_(1),e.interpolateCubehelixLong=w(1),e.color=r,e.rgb=i,e.hsl=u,e.lab=l,e.hcl=b,e.cubehelix=v,e.interpolateRgb=C,e.interpolateHsl=D,e.interpolateHslLong=T,e.interpolateLab=k,e.interpolateHcl=S,e.interpolateHclLong=M,e.interpolateCubehelixGamma=_,e.interpolateCubehelixGammaLong=w})},{}],5:[function(t,n,r){!function(t,a){"object"==typeof r&&"undefined"!=typeof n?a(r):"function"==typeof e&&e.amd?e(["exports"],a):a(t.format={})}(this,function(e){"use strict";function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function n(e){return e=t(Math.abs(e)),e?e[1]:NaN}function r(e,n){var r=t(e,n);if(!r)return e+"";var a=r[0],i=r[1],o=i-(m=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=a.length;return o===s?a:o>s?a+new Array(o-s+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+t(e,n+o-1)[0]}function a(e,n){var r=t(e,n);if(!r)return e+"";var a=r[0],i=r[1];return 0>i?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}function i(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,a=1,i=-1;r>a;++a)switch(e[a]){case".":i=n=a;break;case"0":0===i&&(i=a),n=a;break;case"e":break e;default:i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(n+1):e}function o(e){return new s(e)}function s(e){if(!(t=U.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",a=t[3]||"-",i=t[4]||"",o=!!t[5],s=t[6]&&+t[6],u=!!t[7],f=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(u=!0,c="g"):R[c]||(c=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=a,this.symbol=i,this.zero=o,this.width=s,this.comma=u,this.precision=f,this.type=c}function u(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],u=0;a>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(n.substring(a-=s,a+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function f(e){return e}function c(e){function t(e){e=o(e);var t=e.fill,n=e.align,r=e.sign,u=e.symbol,f=e.zero,c=e.width,l=e.comma,d=e.precision,h=e.type,p="$"===u?i[0]:"#"===u&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",g="$"===u?i[1]:/[%p]/.test(h)?"%":"",b=R[h],y=!h||/[defgprs%]/.test(h);return d=null==d?h?6:12:/[gprs]/.test(h)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),function(e){var i=p,o=g;if("c"===h)o=b(e)+o,e="";else{e=+e;var u=(0>e||0>1/e)&&(e*=-1,!0);if(e=b(e,d),i=(u?"("===r?r:"-":"-"===r||"("===r?"":r)+i,o=o+("s"===h?j[8+m/3]:"")+(u&&"("===r?")":""),y)for(var v,x=-1,_=e.length;++x<_;)if(v=e.charCodeAt(x),48>v||v>57){o=(46===v?s+e.slice(x+1):e.slice(x))+o,e=e.slice(0,x);break}}l&&!f&&(e=a(e,1/0));var w=i.length+e.length+o.length,M=c>w?new Array(c-w+1).join(t):"";switch(l&&f&&(e=a(M+e,M.length?c-o.length:1/0),M=""),n){case"<":return i+e+o+M;case"=":return i+M+e+o;case"^":return M.slice(0,w=M.length>>1)+i+e+o+M.slice(w)}return M+i+e+o}}function r(e,r){var a=t((e=o(e),e.type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(n(r)/3))),s=Math.pow(10,-i),u=j[8+i/3];
return function(e){return a(s*e)+u}}var a=e.grouping&&e.thousands?u(e.grouping,e.thousands):f,i=e.currency,s=e.decimal;return{format:t,formatPrefix:r}}function l(e,t){return Math.max(0,n(Math.abs(t))-n(Math.abs(e)))+1}function d(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(t)/3)))-n(Math.abs(e)))}function h(e){return Math.max(0,-n(Math.abs(e)))}function p(e){if("string"==typeof e){if(!Y.hasOwnProperty(e))return null;e=Y[e]}return c(e)}var m,g={decimal:".",thousands:",",grouping:[3],currency:["¥",""]},b={decimal:",",thousands:" ",grouping:[3],currency:[""," руб."]},y={decimal:",",thousands:".",grouping:[3],currency:["R$",""]},v={decimal:",",thousands:".",grouping:[3],currency:["","zł"]},x={decimal:",",thousands:".",grouping:[3],currency:["€ ",""]},_={decimal:",",thousands:".",grouping:[3],currency:[""," ден."]},w={decimal:".",thousands:",",grouping:[3],currency:["","円"]},M={decimal:",",thousands:".",grouping:[3],currency:["€",""]},S={decimal:".",thousands:",",grouping:[3],currency:["₪",""]},k={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},T={decimal:",",thousands:" ",grouping:[3],currency:["","$"]},D={decimal:",",thousands:" ",grouping:[3],currency:[""," €"]},C={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},L={decimal:".",thousands:",",grouping:[3],currency:["$",""]},O={decimal:".",thousands:",",grouping:[3],currency:["£",""]},A={decimal:".",thousands:",",grouping:[3],currency:["$",""]},E={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},N={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},R={"":i,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return a(100*e,t)},r:a,s:r,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},U=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var j=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Y={"ca-ES":N,"de-DE":E,"en-CA":A,"en-GB":O,"en-US":L,"es-ES":C,"fi-FI":D,"fr-CA":T,"fr-FR":k,"he-IL":S,"it-IT":M,"ja-JP":w,"mk-MK":_,"nl-NL":x,"pl-PL":v,"pt-BR":y,"ru-RU":b,"zh-CN":g},F=c(L);e.format=F.format,e.formatPrefix=F.formatPrefix,e.localeFormat=p,e.formatSpecifier=o,e.precisionFixed=h,e.precisionPrefix=d,e.precisionRound=l})},{}],6:[function(t,n,r){!function(t,a){"object"==typeof r&&"undefined"!=typeof n?a(r):"function"==typeof e&&e.amd?e(["exports"],a):a(t.timeFormat={})}(this,function(e){"use strict";function t(e,n,r){function a(t){return e(t=new Date(+t)),t}return a.floor=a,a.round=function(t){var r=new Date(+t),a=new Date(t-1);return e(r),e(a),n(a,1),a-t>t-r?r:a},a.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},a.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},a.range=function(t,r,a){var i=[];if(t=new Date(t-1),r=new Date(+r),a=null==a?1:Math.floor(a),!(r>t&&a>0))return i;for(n(t,1),e(t),r>t&&i.push(new Date(+t));n(t,a),e(t),r>t;)i.push(new Date(+t));return i},a.filter=function(r){return t(function(t){for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(a.count=function(t,n){return _e.setTime(+t),we.setTime(+n),e(_e),e(we),Math.floor(r(_e,we))}),a}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function r(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}function a(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function s(e){function t(e,t){return function(n){for(var r,a,i,o=[],s=-1,u=0,f=e.length;++s<f;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(a=Ae[r=e.charAt(++s)])&&(r=e.charAt(++s)),(i=t[r])&&(r=i(n,null==a?"e"===r?" ":"0":a)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join("")}}function n(e,t){return function(n){var a=o(1900),s=r(a,e,n,0);if(s!=n.length)return null;if("p"in a&&(a.H=a.H%12+12*a.p),"Z"in a){if("w"in a&&("W"in a||"U"in a)){var u=i(o(a.y)).getUTCDay();"W"in a&&(a.U=a.W,a.w=(a.w+6)%7,--u),a.m=0,a.d=a.w+7*a.U-(u+6)%7}return a.H+=a.Z/100|0,a.M+=a.Z%100,i(a)}if("w"in a&&("W"in a||"U"in a)){var u=t(o(a.y)).getDay();"W"in a&&(a.U=a.W,a.w=(a.w+6)%7,--u),a.m=0,a.d=a.w+7*a.U-(u+6)%7}return t(a)}}function r(e,t,n,r){for(var a,i,o=0,s=t.length,u=n.length;s>o;){if(r>=u)return-1;if(a=t.charCodeAt(o++),37===a){if(a=t.charAt(o++),i=je[a in Ae?t.charAt(o++):a],!i||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}function s(e,t,n){var r=De.exec(t.slice(n));return r?(e.w=Ce[r[0].toLowerCase()],n+r[0].length):-1}function u(e,t,n){var r=ke.exec(t.slice(n));return r?(e.w=Te[r[0].toLowerCase()],n+r[0].length):-1}function f(e,t,n){var r=Ee.exec(t.slice(n));return r?(e.m=Ne[r[0].toLowerCase()],n+r[0].length):-1}function te(e,t,n){var r=Le.exec(t.slice(n));return r?(e.m=Oe[r[0].toLowerCase()],n+r[0].length):-1}function ne(e,t,n){return r(e,ge,t,n)}function re(e,t,n){return r(e,be,t,n)}function ae(e,t,n){return r(e,ye,t,n)}function ie(e,t,n){var r=Se[t.slice(n,n+=2).toLowerCase()];return null==r?-1:(e.p=r,n)}function oe(e){return _e[e.getDay()]}function se(e){return xe[e.getDay()]}function ue(e){return Me[e.getMonth()]}function fe(e){return we[e.getMonth()]}function ce(e){return ve[+(e.getHours()>=12)]}function le(e){return _e[e.getUTCDay()]}function de(e){return xe[e.getUTCDay()]}function he(e){return Me[e.getUTCMonth()]}function pe(e){return we[e.getUTCMonth()]}function me(e){return ve[+(e.getUTCHours()>=12)]}var ge=e.dateTime,be=e.date,ye=e.time,ve=e.periods,xe=e.days,_e=e.shortDays,we=e.months,Me=e.shortMonths,Se=l(ve),ke=c(xe),Te=l(xe),De=c(_e),Ce=l(_e),Le=c(we),Oe=l(we),Ee=c(Me),Ne=l(Me),Re={a:oe,A:se,b:ue,B:fe,c:null,d:T,e:T,H:D,I:C,j:L,L:O,m:A,M:E,p:ce,S:N,U:R,w:U,W:j,x:null,X:null,y:Y,Y:F,Z:P,"%":ee},Ue={a:le,A:de,b:he,B:pe,c:null,d:I,e:I,H:z,I:X,j:H,L:q,m:W,M:B,p:me,S:$,U:G,w:J,W:Z,x:null,X:null,y:V,Y:Q,Z:K,"%":ee},je={a:s,A:u,b:f,B:te,c:ne,d:v,e:v,H:_,I:_,j:x,L:S,m:y,M:w,p:ie,S:M,U:h,w:d,W:p,x:re,X:ae,y:g,Y:m,Z:b,"%":k};return Re.x=t(be,Re),Re.X=t(ye,Re),Re.c=t(ge,Re),Ue.x=t(be,Ue),Ue.X=t(ye,Ue),Ue.c=t(ge,Ue),{format:function(e){var r=t(e+="",Re);return r.parse=n(e,a),r.toString=function(){return e},r},utcFormat:function(e){var r=t(e+="",Ue);return r.parse=n(e,i),r.toString=function(){return e},r}}}function u(e,t,n){var r=0>e?"-":"",a=(r?-e:e)+"",i=a.length;return r+(n>i?new Array(n-i+1).join(t)+a:a)}function f(e){return e.replace(Re,"\\$&")}function c(e){return new RegExp("^(?:"+e.map(f).join("|")+")","i")}function l(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function d(e,t,n){var r=Ee.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function h(e,t,n){var r=Ee.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function p(e,t,n){var r=Ee.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function m(e,t,n){var r=Ee.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function g(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function b(e,t,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:r[3]?-(r[2]+r[3]):100*-r[2],n+r[0].length):-1}function y(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function v(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function x(e,t,n){var r=Ee.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function w(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function M(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function S(e,t,n){var r=Ee.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function k(e,t,n){var r=Ne.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function T(e,t){return u(e.getDate(),t,2)}function D(e,t){return u(e.getHours(),t,2)}function C(e,t){return u(e.getHours()%12||12,t,2)}function L(e,t){return u(1+Me.count(Te(e),e),t,3)}function O(e,t){return u(e.getMilliseconds(),t,3)}function A(e,t){return u(e.getMonth()+1,t,2)}function E(e,t){return u(e.getMinutes(),t,2)}function N(e,t){return u(e.getSeconds(),t,2)}function R(e,t){return u(Se.count(Te(e),e),t,2)}function U(e){return e.getDay()}function j(e,t){return u(ke.count(Te(e),e),t,2)}function Y(e,t){return u(e.getFullYear()%100,t,2)}function F(e,t){return u(e.getFullYear()%1e4,t,4)}function P(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+u(t/60|0,"0",2)+u(t%60,"0",2)}function I(e,t){return u(e.getUTCDate(),t,2)}function z(e,t){return u(e.getUTCHours(),t,2)}function X(e,t){return u(e.getUTCHours()%12||12,t,2)}function H(e,t){return u(1+De.count(Oe(e),e),t,3)}function q(e,t){return u(e.getUTCMilliseconds(),t,3)}function W(e,t){return u(e.getUTCMonth()+1,t,2)}function B(e,t){return u(e.getUTCMinutes(),t,2)}function $(e,t){return u(e.getUTCSeconds(),t,2)}function G(e,t){return u(Ce.count(Oe(e),e),t,2)}function J(e){return e.getUTCDay()}function Z(e,t){return u(Le.count(Oe(e),e),t,2)}function V(e,t){return u(e.getUTCFullYear()%100,t,2)}function Q(e,t){return u(e.getUTCFullYear()%1e4,t,4)}function K(){return"+0000"}function ee(){return"%"}function te(e){return e.toISOString()}function ne(e){if("string"==typeof e){if(!Fe.hasOwnProperty(e))return null;e=Fe[e]}return s(e)}var re={dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["上午","下午"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},ae={dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],shortDays:["вс","пн","вт","ср","чт","пт","сб"],months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],shortMonths:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"]},ie={dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]},oe={dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","Śr.","Czw.","Pt.","Sob."],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Paźdz.","Listop.","Grudz."]},se={dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]},ue={dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["недела","понеделник","вторник","среда","четврток","петок","сабота"],shortDays:["нед","пон","вто","сре","чет","пет","саб"],months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],shortMonths:["јан","фев","мар","апр","мај","јун","јул","авг","сеп","окт","ное","дек"]},fe={dateTime:"%Y %b %e %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["AM","PM"],days:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],shortDays:["日","月","火","水","木","金","土"],months:["睦月","如月","弥生","卯月","皐月","水無月","文月","葉月","長月","神無月","霜月","師走"],shortMonths:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},ce={dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]},le={dateTime:"%A, %e ב%B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],shortDays:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],shortMonths:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"]},de={dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."]},he={dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["jan","fév","mar","avr","mai","jui","jul","aoû","sep","oct","nov","déc"]},pe={dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"]},me={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["dom","lun","mar","mié","jue","vie","sáb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]},ge={dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},be={dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ye={dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ve={dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},xe={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortMonths:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]},_e=new Date,we=new Date,Me=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),Se=n(0),ke=n(1),Te=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()}),De=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5}),Ce=r(0),Le=r(1),Oe=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),Ae={"-":"",_:" ",0:"0"},Ee=/^\s*\d+/,Ne=/^%/,Re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ue="%Y-%m-%dT%H:%M:%S.%LZ";te.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},te.toString=function(){return Ue};var je=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?te:ge.utcFormat(Ue),Ye=je,Fe={"ca-ES":xe,"de-DE":ve,"en-CA":ye,"en-GB":be,"en-US":ge,"es-ES":me,"fi-FI":pe,"fr-CA":he,"fr-FR":de,"he-IL":le,"it-IT":ce,"ja-JP":fe,"mk-MK":ue,"nl-NL":se,"pl-PL":oe,"pt-BR":ie,"ru-RU":ae,"zh-CN":re},Pe=s(ge);e.format=Pe.format,e.utcFormat=Pe.utcFormat,e.localeFormat=ne,e.isoFormat=Ye})},{}],7:[function(t,n,r){!function(t,a){"object"==typeof r&&"undefined"!=typeof n?a(r):"function"==typeof e&&e.amd?e(["exports"],a):a(t.dsv={})}(this,function(e){"use strict";var t=function(e){function t(e,t){var r;return n(e,function(e,n){if(r)return r(e,n-1);var a=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(a(e),n)}:a})}function n(e,t){function n(){if(c>=f)return o;if(a)return a=!1,i;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<f;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(a=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(a=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;f>c;){var r=e.charCodeAt(c++),s=1;if(10===r)a=!0;else if(13===r)a=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return e.slice(t,c-s)}return e.slice(t)}for(var r,a,i={},o={},s=[],f=e.length,c=0,l=0;(r=n())!==o;){for(var d=[];r!==i&&r!==o;)d.push(r),r=n();t&&null==(d=t(d,l++))||s.push(d)}return s}function r(t){if(Array.isArray(t[0]))return a(t);var n=Object.create(null),r=[];return t.forEach(function(e){for(var t in e)(t+="")in n||r.push(n[t]=t)}),[r.map(o).join(e)].concat(t.map(function(t){return r.map(function(e){return o(t[e])}).join(e)})).join("\n")}function a(e){return e.map(i).join("\n")}function i(t){return t.map(o).join(e)}function o(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return{parse:t,parseRows:n,format:r,formatRows:a}};e.csv=t(","),e.tsv=t("	"),e.dsv=t})},{}],8:[function(t,n,r){"undefined"==typeof Map?(Map=function(){this.clear()},Map.prototype={set:function(e,t){return this._[e]=t,this},get:function(e){return this._[e]},has:function(e){return e in this._},"delete":function(e){return e in this._&&delete this._[e]},clear:function(){this._=Object.create(null)},get size(){var e=0;for(var t in this._)++e;return e},forEach:function(e){for(var t in this._)e(this._[t],t,this)}}):function(){var e=new Map;e.set(0,0)!==e&&(e=e.set,Map.prototype.set=function(){return e.apply(this,arguments),this})}(),function(t,a){"object"==typeof r&&"undefined"!=typeof n?a(r):"function"==typeof e&&e.amd?e(["exports"],a):a(t.timeFormat={})}(this,function(e){"use strict";function t(e,n,r){function a(t){return e(t=new Date(+t)),t}return a.floor=a,a.round=function(t){var r=new Date(+t),a=new Date(t-1);return e(r),e(a),n(a,1),a-t>t-r?r:a},a.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},a.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},a.range=function(t,r,a){var i=[];if(t=new Date(t-1),r=new Date(+r),a=null==a?1:Math.floor(a),!(r>t&&a>0))return i;for(n(t,1),e(t),r>t&&i.push(new Date(+t));n(t,a),e(t),r>t;)i.push(new Date(+t));return i},a.filter=function(r){return t(function(t){for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(a.count=function(t,n){return _e.setTime(+t),we.setTime(+n),e(_e),e(we),Math.floor(r(_e,we))}),a}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function r(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}function a(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function s(e){function t(e,t){return function(n){for(var r,a,i,o=[],s=-1,u=0,f=e.length;++s<f;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(a=Ae[r=e.charAt(++s)])&&(r=e.charAt(++s)),(i=t[r])&&(r=i(n,null==a?"e"===r?" ":"0":a)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join("")}}function n(e,t){return function(n){var a=o(1900),s=r(a,e,n,0);if(s!=n.length)return null;if("p"in a&&(a.H=a.H%12+12*a.p),"Z"in a){if("w"in a&&("W"in a||"U"in a)){var u=i(o(a.y)).getUTCDay();"W"in a&&(a.U=a.W,a.w=(a.w+6)%7,--u),a.m=0,a.d=a.w+7*a.U-(u+6)%7}return a.H+=a.Z/100|0,a.M+=a.Z%100,i(a)}if("w"in a&&("W"in a||"U"in a)){var u=t(o(a.y)).getDay();"W"in a&&(a.U=a.W,a.w=(a.w+6)%7,--u),a.m=0,a.d=a.w+7*a.U-(u+6)%7}return t(a)}}function r(e,t,n,r){for(var a,i,o=0,s=t.length,u=n.length;s>o;){if(r>=u)return-1;if(a=t.charCodeAt(o++),37===a){if(a=t.charAt(o++),i=je[a in Ae?t.charAt(o++):a],!i||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}function s(e,t,n){var r=De.exec(t.slice(n));return r?(e.w=Ce.get(r[0].toLowerCase()),n+r[0].length):-1}function u(e,t,n){var r=ke.exec(t.slice(n));return r?(e.w=Te.get(r[0].toLowerCase()),n+r[0].length):-1}function f(e,t,n){var r=Ee.exec(t.slice(n));return r?(e.m=Ne.get(r[0].toLowerCase()),n+r[0].length):-1}function te(e,t,n){var r=Le.exec(t.slice(n));return r?(e.m=Oe.get(r[0].toLowerCase()),n+r[0].length):-1}function ne(e,t,n){return r(e,ge,t,n)}function re(e,t,n){return r(e,be,t,n)}function ae(e,t,n){return r(e,ye,t,n)}function ie(e,t,n){var r=Se.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}function oe(e){return _e[e.getDay()]}function se(e){return xe[e.getDay()]}function ue(e){return Me[e.getMonth()]}function fe(e){return we[e.getMonth()]}function ce(e){return ve[+(e.getHours()>=12)]}function le(e){return _e[e.getUTCDay()]}function de(e){return xe[e.getUTCDay()]}function he(e){return Me[e.getUTCMonth()]}function pe(e){return we[e.getUTCMonth()]}function me(e){return ve[+(e.getUTCHours()>=12)]}var ge=e.dateTime,be=e.date,ye=e.time,ve=e.periods,xe=e.days,_e=e.shortDays,we=e.months,Me=e.shortMonths,Se=l(ve),ke=c(xe),Te=l(xe),De=c(_e),Ce=l(_e),Le=c(we),Oe=l(we),Ee=c(Me),Ne=l(Me),Re={a:oe,A:se,b:ue,B:fe,c:null,d:T,e:T,H:D,I:C,j:L,L:O,m:A,M:E,p:ce,S:N,U:R,w:U,W:j,x:null,X:null,y:Y,Y:F,Z:P,"%":ee},Ue={a:le,A:de,b:he,B:pe,c:null,d:I,e:I,H:z,I:X,j:H,L:q,m:W,M:B,p:me,S:$,U:G,w:J,W:Z,x:null,X:null,y:V,Y:Q,Z:K,"%":ee},je={a:s,A:u,b:f,B:te,c:ne,d:v,e:v,H:_,I:_,j:x,L:S,m:y,M:w,p:ie,S:M,U:h,w:d,W:p,x:re,X:ae,y:g,Y:m,Z:b,"%":k};return Re.x=t(be,Re),Re.X=t(ye,Re),Re.c=t(ge,Re),Ue.x=t(be,Ue),Ue.X=t(ye,Ue),Ue.c=t(ge,Ue),{format:function(e){var r=t(e+="",Re);return r.parse=n(e,a),r.toString=function(){return e},r},utcFormat:function(e){var r=t(e+="",Ue);return r.parse=n(e,i),r.toString=function(){return e},r}}}function u(e,t,n){var r=0>e?"-":"",a=(r?-e:e)+"",i=a.length;return r+(n>i?new Array(n-i+1).join(t)+a:a)}function f(e){return e.replace(Re,"\\$&")}function c(e){return new RegExp("^(?:"+e.map(f).join("|")+")","i")}function l(e){for(var t=new Map,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function d(e,t,n){var r=Ee.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function h(e,t,n){var r=Ee.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function p(e,t,n){var r=Ee.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function m(e,t,n){var r=Ee.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function g(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function b(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function y(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function v(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function x(e,t,n){var r=Ee.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function w(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function M(e,t,n){var r=Ee.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function S(e,t,n){var r=Ee.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function k(e,t,n){var r=Ne.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function T(e,t){return u(e.getDate(),t,2)}function D(e,t){return u(e.getHours(),t,2)}function C(e,t){return u(e.getHours()%12||12,t,2)}function L(e,t){return u(1+Me.count(Te(e),e),t,3)}function O(e,t){return u(e.getMilliseconds(),t,3)}function A(e,t){return u(e.getMonth()+1,t,2)}function E(e,t){return u(e.getMinutes(),t,2)}function N(e,t){return u(e.getSeconds(),t,2)}function R(e,t){return u(Se.count(Te(e),e),t,2)}function U(e){return e.getDay()}function j(e,t){return u(ke.count(Te(e),e),t,2)}function Y(e,t){return u(e.getFullYear()%100,t,2)}function F(e,t){return u(e.getFullYear()%1e4,t,4)}function P(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+u(t/60|0,"0",2)+u(t%60,"0",2)}function I(e,t){return u(e.getUTCDate(),t,2)}function z(e,t){return u(e.getUTCHours(),t,2)}function X(e,t){return u(e.getUTCHours()%12||12,t,2)}function H(e,t){return u(1+De.count(Oe(e),e),t,3)}function q(e,t){return u(e.getUTCMilliseconds(),t,3)}function W(e,t){return u(e.getUTCMonth()+1,t,2)}function B(e,t){return u(e.getUTCMinutes(),t,2)}function $(e,t){return u(e.getUTCSeconds(),t,2)}function G(e,t){return u(Ce.count(Oe(e),e),t,2)}function J(e){return e.getUTCDay()}function Z(e,t){return u(Le.count(Oe(e),e),t,2)}function V(e,t){return u(e.getUTCFullYear()%100,t,2)}function Q(e,t){return u(e.getUTCFullYear()%1e4,t,4)}function K(){return"+0000"}function ee(){return"%"}function te(e){return e.toISOString()}function ne(e){return"string"!=typeof e||(e=Fe.get(e))?s(e):null}var re={dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["上午","下午"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},ae={dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],shortDays:["вс","пн","вт","ср","чт","пт","сб"],months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],shortMonths:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"]},ie={dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]},oe={dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","Śr.","Czw.","Pt.","Sob."],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Paźdz.","Listop.","Grudz."]},se={dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]},ue={dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["недела","понеделник","вторник","среда","четврток","петок","сабота"],shortDays:["нед","пон","вто","сре","чет","пет","саб"],months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],shortMonths:["јан","фев","мар","апр","мај","јун","јул","авг","сеп","окт","ное","дек"]},fe={dateTime:"%Y %b %e %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["AM","PM"],days:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],shortDays:["日","月","火","水","木","金","土"],months:["睦月","如月","弥生","卯月","皐月","水無月","文月","葉月","長月","神無月","霜月","師走"],shortMonths:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},ce={dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]},le={dateTime:"%A, %e ב%B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],
days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],shortDays:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],shortMonths:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"]},de={dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."]},he={dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["jan","fév","mar","avr","mai","jui","jul","aoû","sep","oct","nov","déc"]},pe={dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"]},me={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["dom","lun","mar","mié","jue","vie","sáb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]},ge={dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},be={dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ye={dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ve={dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},xe={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortMonths:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]},_e=new Date,we=new Date,Me=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),Se=n(0),ke=n(1),Te=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()}),De=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5}),Ce=r(0),Le=r(1),Oe=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),Ae={"-":"",_:" ",0:"0"},Ee=/^\s*\d+/,Ne=/^%/,Re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ue="%Y-%m-%dT%H:%M:%S.%LZ";te.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},te.toString=function(){return Ue};var je=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?te:ge.utcFormat(Ue),Ye=je,Fe=(new Map).set("ca-ES",xe).set("de-DE",ve).set("en-CA",ye).set("en-GB",be).set("en-US",ge).set("es-ES",me).set("fi-FI",pe).set("fr-CA",he).set("fr-FR",de).set("he-IL",le).set("it-IT",ce).set("ja-JP",fe).set("mk-MK",ue).set("nl-NL",se).set("pl-PL",oe).set("pt-BR",ie).set("ru-RU",ae).set("zh-CN",re),Pe=s(ge);e.format=Pe.format,e.utcFormat=Pe.utcFormat,e.localeFormat=ne,e.isoFormat=Ye})},{}],9:[function(t,n,r){!function(t,a){"object"==typeof r&&"undefined"!=typeof n?a(r):"function"==typeof e&&e.amd?e(["exports"],a):a(t.time={})}(this,function(e){"use strict";function t(e,n,r){function o(t){return e(t=new Date(+t)),t}return o.floor=o,o.round=function(t){var r=new Date(+t),a=new Date(t-1);return e(r),e(a),n(a,1),a-t>t-r?r:a},o.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},o.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},o.range=function(t,r,a){var i=[];if(t=new Date(t-1),r=new Date(+r),a=null==a?1:Math.floor(a),!(r>t&&a>0))return i;for(n(t,1),e(t),r>t&&i.push(new Date(+t));n(t,a),e(t),r>t;)i.push(new Date(+t));return i},o.filter=function(r){return t(function(t){for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(o.count=function(t,n){return i.setTime(+t),a.setTime(+n),e(i),e(a),Math.floor(r(i,a))}),o}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function r(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var a=new Date,i=new Date,o=t(function(e){e.setMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.seconds=o.range;var s=t(function(e){e.setSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.minutes=s.range;var u=t(function(e){e.setMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.hours=u.range;var f=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5});e.days=f.range,e.sunday=n(0),e.sundays=e.sunday.range,e.monday=n(1),e.mondays=e.monday.range,e.tuesday=n(2),e.tuesdays=e.tuesday.range,e.wednesday=n(3),e.wednesdays=e.wednesday.range,e.thursday=n(4),e.thursdays=e.thursday.range,e.friday=n(5),e.fridays=e.friday.range,e.saturday=n(6),e.saturdays=e.saturday.range;var c=e.sunday;e.weeks=c.range;var l=t(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())});e.months=l.range;var d=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()});e.years=d.range;var h=t(function(e){e.setUTCMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.utcSeconds=h.range;var p=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.utcMinutes=p.range;var m=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.utcHours=m.range;var g=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5});e.utcDays=g.range,e.utcSunday=r(0),e.utcSundays=e.utcSunday.range,e.utcMonday=r(1),e.utcMondays=e.utcMonday.range,e.utcTuesday=r(2),e.utcTuesdays=e.utcTuesday.range,e.utcWednesday=r(3),e.utcWednesdays=e.utcWednesday.range,e.utcThursday=r(4),e.utcThursdays=e.utcThursday.range,e.utcFriday=r(5),e.utcFridays=e.utcFriday.range,e.utcSaturday=r(6),e.utcSaturdays=e.utcSaturday.range;var b=e.utcSunday;e.utcWeeks=b.range;var y=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())});e.utcMonths=y.range;var v=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()});e.utcYears=v.range,e.interval=t,e.second=o,e.minute=s,e.hour=u,e.day=f,e.week=c,e.month=l,e.year=d,e.utcSecond=h,e.utcMinute=p,e.utcHour=m,e.utcDay=g,e.utcWeek=b,e.utcMonth=y,e.utcYear=v})},{}],10:[function(e,t,n){function r(){this._cells={},this._aggr=[],this._stream=!1}function a(e){if(i.isArray(e))return e;if(null==e)return[];var t,n,r=[];for(t in e)n=i.array(e[t]),r.push({name:t,ops:n});return r}var i=e("../util"),o=e("./measures"),s=e("./collector"),u=r.Flags={ADD_CELL:1,MOD_CELL:2},f=r.prototype;f.stream=function(e){return null==e?this._stream:(this._stream=!!e,this._aggr=[],this)},f.key=function(e){return null==e?this._key:(this._key=i.$(e),this)},f.groupby=function(e){return this._dims=i.array(e).map(function(e,t){if(e=i.isString(e)?{name:e,get:i.$(e)}:i.isFunction(e)?{name:i.name(e)||e.name||"_"+t,get:e}:e.name&&i.isFunction(e.get)?e:null,null==e)throw"Invalid groupby argument: "+e;return e}),this.clear()},f.summarize=function(e){e=a(e),this._count=!0;var t,n,r,s,u,f,c,l=this._aggr=[];for(r=0;r<e.length;++r){for(s=0,t=[],n=e[r];s<n.ops.length;++s)u=n.ops[s],"count"!==u&&(this._count=!1),f=n.as&&n.as[s]||u+("*"===n.name?"":"_"+n.name),t.push(o[u](f));c=n.get&&i.$(n.get)||("*"===n.name?i.identity:i.$(n.name)),l.push({name:n.name,measures:o.create(t,this._stream,c,this._assign)})}return this.clear()},f.count=function(){return this.summarize({"*":"count"})},f._assign=function(e,t,n){e[t]=n},f.clear=function(){return this._cells={},this},f._cellkey=function(e){var t,n=this._dims,r=n.length,a=String(n[0].get(e));for(t=1;r>t;++t)a+="|"+n[t].get(e);return a},f._cell=function(e){var t=this._dims.length?this._cellkey(e):"";return this._cells[t]||(this._cells[t]=this._newcell(e,t))},f._newcell=function(e,t){var n,r={num:0,tuple:this._newtuple(e,t),flag:u.ADD_CELL,aggs:{}},a=this._aggr;for(n=0;n<a.length;++n)r.aggs[a[n].name]=new a[n].measures(r,r.tuple);return r.collect&&(r.data=new s(this._key)),r},f._newtuple=function(e){var t,n,r=this._dims,a={};for(t=0,n=r.length;n>t;++t)a[r[t].name]=r[t].get(e);return this._ingest(a)},f._ingest=i.identity,f._add=function(e){var t,n=this._cell(e),r=this._aggr;if(n.num+=1,!this._count)for(n.collect&&n.data.add(e),t=0;t<r.length;++t)n.aggs[r[t].name].add(e);n.flag|=u.MOD_CELL,this._on_add&&this._on_add(e,n)},f._rem=function(e){var t,n=this._cell(e),r=this._aggr;if(n.num-=1,!this._count)for(n.collect&&n.data.rem(e),t=0;t<r.length;++t)n.aggs[r[t].name].rem(e);n.flag|=u.MOD_CELL,this._on_rem&&this._on_rem(e,n)},f._mod=function(e,t){var n,r=this._cell(t),a=this._cell(e),o=this._aggr;for(r!==a?(r.num-=1,a.num+=1,r.collect&&r.data.rem(t),a.collect&&a.data.add(e)):r.collect&&!i.isObject(e)&&(r.data.rem(t),r.data.add(e)),n=0;n<o.length;++n)r.aggs[o[n].name].rem(t),a.aggs[o[n].name].add(e);r.flag|=u.MOD_CELL,a.flag|=u.MOD_CELL,this._on_mod&&this._on_mod(e,t,r,a)},f.result=function(){var e,t,n,r=[],a=this._aggr;for(n in this._cells){if(e=this._cells[n],e.num>0){for(e.collect&&e.data.values(),t=0;t<a.length;++t)e.aggs[a[t].name].set();r.push(e.tuple)}else delete this._cells[n];e.flag=0}return this._rems=!1,r},f.changes=function(e){var t,n,r,a,i=e||{add:[],rem:[],mod:[]},o=this._aggr;for(a in this._cells){for(t=this._cells[a],n=t.flag,t.collect&&t.data.values(),r=0;r<o.length;++r)t.aggs[o[r].name].set();t.num<=0?(i.rem.push(t.tuple),delete this._cells[a],this._on_drop&&this._on_drop(t)):(this._on_keep&&this._on_keep(t),n&u.ADD_CELL?i.add.push(t.tuple):n&u.MOD_CELL&&i.mod.push(t.tuple)),t.flag=0}return this._rems=!1,i},f.execute=function(e){return this.clear().insert(e).result()},f.insert=function(e){this._consolidate();for(var t=0;t<e.length;++t)this._add(e[t]);return this},f.remove=function(e){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var t=0;t<e.length;++t)this._rem(e[t]);return this._rems=!0,this},f._consolidate=function(){if(this._rems){for(var e in this._cells)this._cells[e].collect&&this._cells[e].data.values();this._rems=!1}},t.exports=r},{"../util":32,"./collector":11,"./measures":13}],11:[function(e,t,n){function r(e){this._add=[],this._rem=[],this._key=e||null,this._last=null}var a=e("../util"),i=e("../stats"),o="__dl_rem__",s=r.prototype;s.add=function(e){this._add.push(e)},s.rem=function(e){this._rem.push(e)},s.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r,s=this._add,u=this._rem,f=this._key,c=Array(s.length-u.length);if(a.isObject(u[0]))if(f)for(r=a.toMap(u,f),e=0,t=0,n=s.length;n>e;++e)r.hasOwnProperty(f(s[e]))||(c[t++]=s[e]);else{for(e=0,n=u.length;n>e;++e)u[e][o]=1;for(e=0,t=0,n=s.length;n>e;++e)s[e][o]||(c[t++]=s[e]);for(e=0,n=u.length;n>e;++e)delete u[e][o]}else for(r=i.count.map(u),e=0,t=0,n=s.length;n>e;++e)r[s[e]]>0?r[s[e]]-=1:c[t++]=s[e];return this._rem=[],this._add=c},s.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=i.extent.index(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},s.argmin=function(e){return this.extent(e)[0]},s.argmax=function(e){return this.extent(e)[1]},s.min=function(e){var t=this.extent(e)[0];return t?e(t):+(1/0)},s.max=function(e){var t=this.extent(e)[1];return t?e(t):-(1/0)},s.quartile=function(e){return this._get===e&&this._q||(this._q=i.quartile(this.values(),e),this._get=e),this._q},s.q1=function(e){return this.quartile(e)[0]},s.q2=function(e){return this.quartile(e)[1]},s.q3=function(e){return this.quartile(e)[2]},t.exports=r},{"../stats":29,"../util":32}],12:[function(e,t,n){var r=e("../util"),a=e("./aggregator");t.exports=function(){var e=[].reduce.call(arguments,function(e,t){return e.concat(r.array(t))},[]);return(new a).groupby(e).summarize({"*":"values"})}},{"../util":32,"./aggregator":10}],13:[function(e,t,n){function r(e){return function(t){var n=o.extend({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function a(e,t){function n(e,r){function a(t){e[t]||n(e,e[t]=s[t]())}return r.req&&r.req.forEach(a),t&&r.str&&r.str.forEach(a),e}var r=e.reduce(n,e.reduce(function(e,t){return e[t.name]=t,e},{}));return o.vals(r).sort(function(e,t){return e.idx-t.idx})}function i(t,n,r,i){var s=a(t,n),u="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",f="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",l="var t = this.tuple; var cell = this.cell;";return s.forEach(function(e){e.idx<0?(u=e.init+u,f=e.add+f,c=e.rem+c):(u+=e.init,f+=e.add,c+=e.rem)}),t.slice().sort(function(e,t){return e.idx-t.idx}).forEach(function(e){l+="this.assign(t,'"+e.out+"',"+e.set+");"}),l+="return t;",u=Function("cell","t",u),u.prototype.assign=i,u.prototype.add=Function("t","var v = this.get(t);"+f),u.prototype.rem=Function("t","var v = this.get(t);"+c),u.prototype.set=Function(l),u.prototype.get=r,u.prototype.distinct=e("../stats").count.distinct,u.prototype.isValid=o.isValid,u.fields=t.map(o.$("out")),u}var o=e("../util"),s={values:r({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:r({name:"count",set:"cell.num"}),missing:r({name:"missing",set:"this.missing"}),valid:r({name:"valid",set:"this.valid"}),sum:r({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:r({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:r({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:r({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:r({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:r({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:r({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),median:r({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:r({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:r({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:r({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:r({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:r({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:r({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:r({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:r({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","stdev","median"],idx:5})};s.create=i,t.exports=s},{"../stats":29,"../util":32}],14:[function(e,t,n){function r(e){if(!e)throw Error("Missing binning options.");var t,n,r,s,u,f,c,l=e.maxbins||15,d=e.base||10,h=Math.log(d),p=e.div||[5,2],m=e.min,g=e.max,b=g-m;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,a(e.steps,b/l,0,e.steps.length))];else{n=Math.ceil(Math.log(l)/h),r=e.minstep||0,t=Math.max(r,Math.pow(d,Math.round(Math.log(b)/h)-n));do t*=d;while(Math.ceil(b/t)>l);for(f=0;f<p.length;++f)u=t/p[f],u>=r&&l>=b/u&&(t=u)}return u=Math.log(t),s=u>=0?0:~~(-u/h)+1,c=Math.pow(d,-s-1),m=Math.min(m,Math.floor(m/t+c)*t),g=Math.ceil(g/t)*t,{start:m,stop:g,step:t,unit:{precision:s},value:i,index:o}}function a(e,t,n,r){for(;r>n;){var a=n+r>>>1;f.cmp(e[a],t)<0?n=a+1:r=a}return n}function i(e){return this.step*Math.floor(e/this.step+l)}function o(e){return Math.floor((e-this.start)/this.step+l)}function s(e){return this.unit.date(i.call(this,e))}function u(e){return o.call(this,this.unit.unit(e))}var f=e("../util"),c=e("../time"),l=1e-15;r.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?c.utc:c,n=e.min,a=e.max,i=e.maxbins||20,o=e.minbins||4,f=+a-+n,l=e.unit?t[e.unit]:t.find(f,o,i),d=r({min:null!=l.min?l.min:l.unit(n),max:null!=l.max?l.max:l.unit(a),maxbins:i,minstep:l.minstep,steps:l.step});return d.unit=l,d.index=u,e.raw||(d.value=s),d},t.exports=r},{"../time":31,"../util":32}],15:[function(e,t,n){function r(e,t,n){n=o(e,t,n);var r=i(n);return r?d.$func("bin",r.unit.unit?function(e){return r.value(r.unit.unit(e))}:function(e){return r.value(e)})(n.accessor):n.accessor||d.identity}function a(e,t,n){n=o(e,t,n);var r=i(n);return r?s(e,n.accessor,r):u(e,n.accessor,n&&n.sort)}function i(e){var t=e.type,n=null;return(null==t||p[t])&&("integer"===t&&null==e.minstep&&(e.minstep=1),n="date"===t?f.date(e):f(e)),n}function o(){var e=arguments,t=0,n=d.isArray(e[t])?e[t++]:null,r=d.isFunction(e[t])||d.isString(e[t])?d.$(e[t++]):null,a=d.extend({},e[t]);if(n&&(a.type=a.type||l(n,r),p[a.type])){var i=h.extent(n,r);a=d.extend({min:i[0],max:i[1]},a)}return r&&(a.accessor=r),a}function s(e,t,n){for(var r,a,i=c.range(n.start,n.stop+n.step/2,n.step).map(function(e){return{value:n.value(e),count:0}}),o=0;o<e.length;++o)if(r=t?t(e[o]):e[o],d.isValid(r)){if(a=n.index(r),0>a||a>=i.length||!isFinite(a))continue;i[a].count+=1}return i.bins=n,i}function u(e,t,n){var r=h.unique(e,t),a=h.count.map(e,t);return r.map(function(e){return{value:e,count:a[e]}}).sort(d.comparator(n?"-count":"+value"))}var f=e("./bins"),c=e("../generate"),l=e("../import/type"),d=e("../util"),h=e("../stats"),p={integer:1,number:1,date:1};t.exports={$bin:r,histogram:a}},{"../generate":17,"../import/type":26,"../stats":29,"../util":32,"./bins":14}],16:[function(e,t,n){function r(e){var t=l.localeFormat(e);if(null==t)throw Error("Unrecognized locale: "+e);d=t}function a(e){var t=c.localeFormat(e);if(null==t)throw Error("Unrecognized locale: "+e);h=t}function i(e,t){e.length||(e=[0]),null==t&&(t=10);var n=e[0],r=e[e.length-1];n>r&&(o=r,r=n,n=o);var a=r-n||(t=1,n||r||1),i=Math.pow(10,Math.floor(Math.log(a/t)/Math.LN10)),o=a/t/i;return o>=p?i*=10:o>=m?i*=5:o>=g&&(i*=2),[Math.ceil(n/i)*i,Math.floor(r/i)*i+i/2,i]}function o(e,t,n){var r=i(e,t);if(null==n)n=",."+l.precisionFixed(r[2])+"f";else switch(n=l.formatSpecifier(n),n.type){case"s":var a=Math.max(Math.abs(r[0]),Math.abs(r[1]));return null==n.precision&&(n.precision=l.precisionPrefix(r[2],a)),d.formatPrefix(n,a);case"":case"e":case"g":case"p":case"r":null==n.precision&&(n.precision=l.precisionRound(r[2],Math.max(Math.abs(r[0]),Math.abs(r[1])))-("e"===n.type));break;case"f":case"%":null==n.precision&&(n.precision=l.precisionFixed(r[2])-2*("%"===n.type))}return d.format(n)}function s(){var e=h.format,t=e(".%L"),n=e(":%S"),r=e("%I:%M"),a=e("%I %p"),i=e("%a %d"),o=e("%b %d"),s=e("%B"),u=e("%Y");return function(e){var c=+e;return(f.second(e)<c?t:f.minute(e)<c?n:f.hour(e)<c?r:f.day(e)<c?a:f.month(e)<c?f.week(e)<c?i:o:f.year(e)<c?s:u)(e)}}function u(){var e=h.utcFormat,t=e(".%L"),n=e(":%S"),r=e("%I:%M"),a=e("%I %p"),i=e("%a %d"),o=e("%b %d"),s=e("%B"),u=e("%Y");return function(e){var c=+e;return(f.utcSecond(e)<c?t:f.utcMinute(e)<c?n:f.utcHour(e)<c?r:f.utcDay(e)<c?a:f.utcMonth(e)<c?f.utcWeek(e)<c?i:o:f.utcYear(e)<c?s:u)(e)}}var f=e("d3-time"),c=e("d3-time-format"),l=e("d3-format"),d=l,h=c;t.exports={numberLocale:r,number:function(e){return d.format(e)},numberPrefix:function(e,t){return d.formatPrefix(e,t)},timeLocale:a,time:function(e){return h.format(e)},utc:function(e){return h.utcFormat(e)},locale:function(e){r(e),a(e)},auto:{number:o,time:function(){return s()},utc:function(){return u()}}};var p=Math.sqrt(50),m=Math.sqrt(10),g=Math.sqrt(2)},{"d3-format":5,"d3-time":9,"d3-time-format":8}],17:[function(e,t,n){var r=t.exports={};r.repeat=function(e,t){var n,r=Array(t);for(n=0;t>n;++n)r[n]=e;return r},r.zeros=function(e){return r.repeat(0,e)},r.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("Infinite range");var r,a=[],i=-1;if(0>n)for(;(r=e+n*++i)>t;)a.push(r);else for(;(r=e+n*++i)<t;)a.push(r);return a},r.random={},r.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var n=t-e,a=function(){return e+n*Math.random()};return a.samples=function(e){return r.zeros(e).map(a)},a},r.random.integer=function(e,t){void 0===t&&(t=e,e=0);var n=t-e,a=function(){return e+Math.floor(n*Math.random())};return a.samples=function(e){return r.zeros(e).map(a)},a},r.random.normal=function(e,t){e=e||0,t=t||1;var n,a=function(){var r,a,i=0,o=0;if(void 0!==n)return i=n,n=void 0,i;do i=2*Math.random()-1,o=2*Math.random()-1,r=i*i+o*o;while(0===r||r>1);return a=Math.sqrt(-2*Math.log(r)/r),n=e+o*a*t,e+i*a*t};return a.samples=function(e){return r.zeros(e).map(a)},a}},{}],18:[function(e,t,n){function r(e,t){if(e){var n=t.header;e=(n?n.join(t.delimiter)+"\n":"")+e}return i.dsv(t.delimiter).parse(e)}var a=e("../../util"),i=e("d3-dsv");r.delimiter=function(e){var t={delimiter:e};return function(e,n){return r(e,n?a.extend(n,t):t)}},t.exports=r},{"../../util":32,"d3-dsv":7}],19:[function(e,t,n){var r=e("./dsv");t.exports={json:e("./json"),topojson:e("./topojson"),treejson:e("./treejson"),dsv:r,csv:r.delimiter(","),tsv:r.delimiter("	")}},{"./dsv":18,"./json":20,"./topojson":21,"./treejson":22}],20:[function(e,t,n){var r=e("../../util");t.exports=function(e,t){var n=r.isObject(e)&&!r.isBuffer(e)?e:JSON.parse(e);return t&&t.property&&(n=r.accessor(t.property)(n)),n}},{"../../util":32}],21:[function(e,t,n){(function(n){var r=e("./json"),a=function(e,t){var n=a.topojson;if(null==n)throw Error("TopoJSON library not loaded.");var i,o=r(e,t);if(t&&t.feature){if(i=o.objects[t.feature])return n.feature(o,i).features;throw Error("Invalid TopoJSON object: "+t.feature)}if(t&&t.mesh){if(i=o.objects[t.mesh])return[n.mesh(o,o.objects[t.mesh])];throw Error("Invalid TopoJSON object: "+t.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};a.topojson="undefined"!=typeof window?window.topojson:"undefined"!=typeof n?n.topojson:null,t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./json":20}],22:[function(e,t,n){function r(e,t){function n(e){r.push(e);var a=e[t];if(a)for(var i=0;i<a.length;++i)n(a[i],e)}t=t||"children";var r=[];return n(e,null),r.root=e,r}var a=e("./json");t.exports=function(e,t){return e=a(e,t),r(e,t&&t.children)}},{"./json":20}],23:[function(e,t,n){function r(t){var n=t.url;if(!n&&t.file)return l+t.file;if(t.baseURL&&!c.test(n)&&(f(n,"/")||"/"===t.baseURL[t.baseURL.length-1]||(n="/"+n),n=t.baseURL+n),!a.useXHR&&f(n,"//")&&(n=(t.defaultProtocol||"http")+":"+n),t.domainWhiteList){var r,i;if(a.useXHR){var o=document.createElement("a");o.href=n,""===o.host&&(o.href=o.href),r=o.hostname.toLowerCase(),i=window.location.hostname}else{var s=e("url").parse(n);r=s.hostname,i=null}if(i!==r){var u=t.domainWhiteList.some(function(e){var t=r.length-e.length;return e===r||t>1&&"."===r[t-1]&&r.lastIndexOf(e)===t});if(!u)throw"URL is not whitelisted: "+n}}return n}function a(e,t){var n,r=t||function(e){throw e};try{n=a.sanitizeUrl(e)}catch(i){return void r(i)}return n?a.useXHR?o(n,t):f(n,l)?s(n.slice(l.length),t):n.indexOf("://")<0?s(n,t):u(n,t):void r("Invalid URL: "+e.url)}function i(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function o(e,t){function n(){var e=a.status;!e&&i(a)||e>=200&&300>e||304===e?t(null,a.responseText):t(a,null)}var r=!!t,a=new XMLHttpRequest;return!this.XDomainRequest||"withCredentials"in a||!/^(http(s)?:)?\/\//.test(e)||(a=new XDomainRequest),r&&("onload"in a?a.onload=a.onerror=n:a.onreadystatechange=function(){a.readyState>3&&n()}),a.open("GET",e,r),a.send(),!r&&i(a)?a.responseText:void 0}function s(t,n){var r=e("fs");return n?void r.readFile(t,n):r.readFileSync(t,"utf8")}function u(t,n){if(!n)return e("sync-request")("GET",t).getBody();var r={url:t,encoding:null,gzip:!0};e("request")(r,function(e,t,r){e||200!==t.statusCode?(e=e||"Load failed with response code "+t.statusCode+".",n(e,null)):n(null,r)})}function f(e,t){return null==e?!1:0===e.lastIndexOf(t,0)}var c=/^([A-Za-z]+:)?\/\//,l="file://";a.sanitizeUrl=r,a.useXHR="undefined"!=typeof XMLHttpRequest,t.exports=a},{fs:1,request:1,"sync-request":1,url:1}],24:[function(e,t,n){function r(e,t){var n=t&&t.type||"json";return e=s[n](e,t),t&&t.parse&&a(e,t.parse),e}function a(e,t){var n,r,a,s,u,f,c=e.length;for(t="auto"===t?o.inferAll(e):i.duplicate(t),n=i.keys(t),r=n.map(function(e){return o.parsers[t[e]]}),s=0,f=n.length;c>s;++s)for(a=e[s],u=0;f>u;++u)a[n[u]]=r[u](a[n[u]]);o.annotation(e,t)}var i=e("../util"),o=e("./type"),s=e("./formats");r.formats=s,t.exports=r},{"../util":32,"./formats":19,"./type":26}],25:[function(e,t,n){var r=e("../util"),a=e("./load"),i=e("./read");t.exports=r.keys(i.formats).reduce(function(e,t){return e[t]=function(e,n,o){r.isString(e)&&(e={url:e}),2===arguments.length&&r.isFunction(n)&&(o=n,n=void 0),n=r.extend({parse:"auto"},n),n.type=t;var s=a(e,o?function(e,t){if(e)return void o(e,null);try{t=i(t,n),o(null,t)}catch(r){o(r,null)}}:void 0);return o?void 0:i(s,n)},e},{})},{"../util":32,"./load":23,"./read":24}],26:[function(e,t,n){function r(e,t){return t?void(e[f]=t):e&&e[f]||null}function a(e,t){t=u.$(t);var n,r,a;if(e[f]&&(n=t(e[f]),u.isString(n)))return n;for(r=0,a=e.length;!u.isValid(n)&&a>r;++r)n=t?t(e[r]):e[r];return u.isDate(n)?"date":u.isNumber(n)?"number":u.isBoolean(n)?"boolean":u.isString(n)?"string":null}function i(e,t){return e.length?(t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=a(e,n),t},{})):void 0}function o(e,t){t=u.$(t);var n,r,a,i=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(a=t?t(e[n]):e[n],r=0;r<i.length;++r)u.isValid(a)&&!l[i[r]](a)&&(i.splice(r,1),r-=1);if(0===i.length)return"string"}return i[0]}function s(e,t){return t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=o(e,n),t},{})}var u=e("../util"),f="__types__",c={"boolean":u["boolean"],integer:u.number,number:u.number,date:u.date,string:function(e){return""===e?null:e}},l={"boolean":function(e){return"true"===e||"false"===e||u.isBoolean(e)},integer:function(e){return l.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!u.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};a.annotation=r,a.all=i,a.infer=o,a.inferAll=s,a.parsers=c,t.exports=a},{"../util":32}],27:[function(e,t,n){var r=e("./util"),a={version:"1.4.6",load:e("./import/load"),read:e("./import/read"),type:e("./import/type"),Aggregator:e("./aggregate/aggregator"),groupby:e("./aggregate/groupby"),bins:e("./bins/bins"),$bin:e("./bins/histogram").$bin,histogram:e("./bins/histogram").histogram,format:e("./format"),print:e("./print"),template:e("./template"),time:e("./time")};r.extend(a,r),r.extend(a,e("./generate")),r.extend(a,e("./stats")),r.extend(a,e("./import/readers")),t.exports=a},{"./aggregate/aggregator":10,"./aggregate/groupby":12,"./bins/bins":14,"./bins/histogram":15,"./format":16,"./generate":17,"./import/load":23,"./import/read":24,"./import/readers":25,"./import/type":26,"./print":28,"./stats":29,"./template":30,"./time":31,"./util":32}],28:[function(e,t,n){function r(e){return["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"min:      "+e.min,"max:      "+e.max,"median:   "+e.median,"mean:     "+e.mean,"stdev:    "+e.stdev,"modeskew: "+e.modeskew].join("\n")}function a(e){var t=["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"top values: "],n=e.unique,r=i.keys(n).sort(function(e,t){return n[t]-n[e]}).slice(0,6).map(function(e){return" '"+e+"' ("+n[e]+")"});return t.concat(r).join("\n")}var i=e("./util"),o=e("./import/type"),s=e("./stats"),u=e("./template"),f={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},c={number:"left",integer:"left"};t.exports.table=function(e,t){t=i.extend({separator:" ",minwidth:8,maxwidth:15},t);var n=t.fields||i.keys(e[0]),r=o.all(e);if(t.start||t.limit){var a=t.start||0,l=t.limit?a+t.limit:e.length;e=e.slice(a,l)}var d=n.map(function(n){
var a=f[r[n]]||"",i=u("{{"+n+a+"}}"),o=s.max(e,function(e){return i(e).length});return o=Math.max(Math.min(n.length,t.minwidth),o),t.maxwidth>0?Math.min(o,t.maxwidth):o}),h=n.map(function(e,t){return i.truncate(i.pad(e,d[t],"center"),d[t])}).join(t.separator),p=u(n.map(function(e,t){return"{{"+e+(f[r[e]]||"")+("|pad:"+d[t]+","+(c[r[e]]||"right"))+("|truncate:"+d[t])+"}}"}).join(t.separator));return h+"\n"+e.map(p).join("\n")},t.exports.summary=function(e){e=e?e.__summary__?e:s.summary(e):this;var t,n,i=[];for(t=0,n=e.length;n>t;++t)i.push("-- "+e[t].field+" --"),"string"===e[t].type||e[t].distinct<10?i.push(a(e[t])):i.push(r(e[t])),i.push("");return i.join("\n")}},{"./import/type":26,"./stats":29,"./template":30,"./util":32}],29:[function(e,t,n){var r=e("./util"),a=e("./import/type"),i=e("./generate"),o={};o.unique=function(e,t,n){t=r.$(t),n=n||[];var a,i,o,s={};for(i=0,o=e.length;o>i;++i)a=t?t(e[i]):e[i],a in s||(s[a]=1,n.push(a));return n},o.count=function(e){return e&&e.length||0},o.count.valid=function(e,t){t=r.$(t);var n,a,i,o=0;for(a=0,i=e.length;i>a;++a)n=t?t(e[a]):e[a],r.isValid(n)&&(o+=1);return o},o.count.missing=function(e,t){t=r.$(t);var n,a,i,o=0;for(a=0,i=e.length;i>a;++a)n=t?t(e[a]):e[a],null==n&&(o+=1);return o},o.count.distinct=function(e,t){t=r.$(t);var n,a,i,o={},s=0;for(a=0,i=e.length;i>a;++a)n=t?t(e[a]):e[a],n in o||(o[n]=1,s+=1);return s},o.count.map=function(e,t){t=r.$(t);var n,a,i,o={};for(a=0,i=e.length;i>a;++a)n=t?t(e[a]):e[a],o[n]=n in o?o[n]+1:1;return o},o.median=function(e,t){return t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp),o.quantile(e,.5)},o.quartile=function(e,t){t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp);var n=o.quantile;return[n(e,.25),n(e,.5),n(e,.75)]},o.quantile=function(e,t,n){void 0===n&&(n=t,t=r.identity),t=r.$(t);var a=(e.length-1)*n+1,i=Math.floor(a),o=+t(e[i-1]),s=a-i;return s?o+s*(t(e[i])-o):o},o.sum=function(e,t){t=r.$(t);for(var n,a=0,i=0,o=e.length;o>i;++i)n=t?t(e[i]):e[i],r.isValid(n)&&(a+=n);return a},o.mean=function(e,t){t=r.$(t);var n,a,i,o,s,u=0;for(a=0,o=0,i=e.length;i>a;++a)s=t?t(e[a]):e[a],r.isValid(s)&&(n=s-u,u+=n/++o);return u},o.variance=function(e,t){if(t=r.$(t),!r.isArray(e)||e.length<2)return 0;var n,a,i,o,s=0,u=0;for(a=0,i=0;a<e.length;++a)o=t?t(e[a]):e[a],r.isValid(o)&&(n=o-s,s+=n/++i,u+=n*(o-s));return u/=i-1},o.stdev=function(e,t){return Math.sqrt(o.variance(e,t))},o.modeskew=function(e,t){var n=o.mean(e,t),r=o.median(e,t),a=o.stdev(e,t);return 0===a?0:(n-r)/a},o.min=function(e,t){return o.extent(e,t)[0]},o.max=function(e,t){return o.extent(e,t)[1]},o.extent=function(e,t){t=r.$(t);var n,a,i,o,s=e.length;for(o=0;s>o;++o)if(i=t?t(e[o]):e[o],r.isValid(i)){n=a=i;break}for(;s>o;++o)i=t?t(e[o]):e[o],r.isValid(i)&&(n>i&&(n=i),i>a&&(a=i));return[n,a]},o.extent.index=function(e,t){t=r.$(t);var n,a,i,o,s=-1,u=-1,f=e.length;for(o=0;f>o;++o)if(i=t?t(e[o]):e[o],r.isValid(i)){n=a=i,s=u=o;break}for(;f>o;++o)i=t?t(e[o]):e[o],r.isValid(i)&&(n>i&&(n=i,s=o),i>a&&(a=i,u=o));return[s,u]},o.dot=function(e,t,n){var a,i,o=0;if(n)for(t=r.$(t),n=r.$(n),a=0;a<e.length;++a)i=t(e[a])*n(e[a]),i===i&&(o+=i);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(a=0;a<e.length;++a)i=e[a]*t[a],i===i&&(o+=i)}return o},o.rank=function(e,t){t=r.$(t)||r.identity;var n,a,i,o=e.map(function(e,n){return{idx:n,val:t(e)}}).sort(r.comparator("val")),s=e.length,u=Array(s),f=-1,c={};for(n=0;s>n;++n){if(a=o[n].val,0>f&&c===a)f=n-1;else if(f>-1&&c!==a){for(i=1+(n-1+f)/2;n>f;++f)u[o[f].idx]=i;f=-1}u[o[n].idx]=n+1,c=a}if(f>-1)for(i=1+(s-1+f)/2;s>f;++f)u[o[f].idx]=i;return u},o.cor=function(e,t,n){var a=n;n=a?e.map(r.$(n)):t,t=a?e.map(r.$(t)):e;var i=o.dot(t,n),s=o.mean(t),u=o.mean(n),f=o.stdev(t),c=o.stdev(n),l=e.length;return(i-l*s*u)/((l-1)*f*c)},o.cor.rank=function(e,t,n){var a,i,s,u=n?o.rank(e,r.$(t)):o.rank(e),f=n?o.rank(e,r.$(n)):o.rank(t),c=e.length;for(a=0,i=0;c>a;++a)s=u[a]-f[a],i+=s*s;return 1-6*i/(c*(c*c-1))},o.cor.dist=function(e,t,n){var a,i,s,u,f=n?e.map(r.$(t)):e,c=n?e.map(r.$(n)):t,l=o.dist.mat(f),d=o.dist.mat(c),h=l.length;for(a=0,i=0,s=0,u=0;h>a;++a)i+=l[a]*l[a],s+=d[a]*d[a],u+=l[a]*d[a];return Math.sqrt(u/Math.sqrt(i*s))},o.dist=function(e,t,n,a){var i,o,s=r.isFunction(n)||r.isString(n),u=e,f=s?e:t,c=s?a:n,l=2===c||null==c,d=e.length,h=0;for(s&&(t=r.$(t),n=r.$(n)),o=0;d>o;++o)i=s?t(u[o])-n(f[o]):u[o]-f[o],h+=l?i*i:Math.pow(Math.abs(i),c);return l?Math.sqrt(h):Math.pow(h,1/c)},o.dist.mat=function(e){var t,n,r,a=e.length,o=a*a,s=Array(o),u=i.zeros(a),f=0;for(n=0;a>n;++n)for(s[n*a+n]=0,r=n+1;a>r;++r)s[n*a+r]=t=Math.abs(e[n]-e[r]),s[r*a+n]=t,u[n]+=t,u[r]+=t;for(n=0;a>n;++n)f+=u[n],u[n]/=a;for(f/=o,n=0;a>n;++n)for(r=n;a>r;++r)s[n*a+r]+=f-u[n]-u[r],s[r*a+n]=s[n*a+r];return s},o.entropy=function(e,t){t=r.$(t);var n,a,i=0,o=0,s=e.length;for(n=0;s>n;++n)i+=t?t(e[n]):e[n];if(0===i)return 0;for(n=0;s>n;++n)a=(t?t(e[n]):e[n])/i,a&&(o+=a*Math.log(a));return-o/Math.LN2},o.mutual=function(e,t,n,a){var i,o,s,u=a?e.map(r.$(t)):e,f=a?e.map(r.$(n)):t,c=a?e.map(r.$(a)):n,l={},d={},h=c.length,p=0,m=0,g=0;for(s=0;h>s;++s)l[u[s]]=0,d[f[s]]=0;for(s=0;h>s;++s)l[u[s]]+=c[s],d[f[s]]+=c[s],p+=c[s];for(o=1/(p*Math.LN2),s=0;h>s;++s)0!==c[s]&&(i=p*c[s]/(l[u[s]]*d[f[s]]),m+=c[s]*o*Math.log(i),g+=c[s]*o*Math.log(c[s]/p));return[m,1+m/g]},o.mutual.info=function(e,t,n,r){return o.mutual(e,t,n,r)[0]},o.mutual.dist=function(e,t,n,r){return o.mutual(e,t,n,r)[1]},o.profile=function(e,t){var n,i,s,u,f,c=0,l=0,d=0,h=0,p=null,m=null,g=0,b=[],y={};for(s=0;s<e.length;++s)u=t?t(e[s]):e[s],y[u]=u in y?y[u]+1:(h+=1,1),null==u?++d:r.isValid(u)&&(f="string"==typeof u?u.length:u,(null===p||p>f)&&(p=f),(null===m||f>m)&&(m=f),n=f-c,c+=n/++l,g+=n*(f-c),b.push(f));return g/=l-1,i=Math.sqrt(g),b.sort(r.cmp),{type:a(e,t),unique:y,count:e.length,valid:l,missing:d,distinct:h,min:p,max:m,mean:c,stdev:i,median:u=o.quantile(b,.5),q1:o.quantile(b,.25),q3:o.quantile(b,.75),modeskew:0===i?0:(c-u)/i}},o.summary=function(e,t){t=t||r.keys(e[0]);var n=t.map(function(t){var n=o.profile(e,r.$(t));return n.field=t,n});return n.__summary__=!0,n},t.exports=o},{"./generate":17,"./import/type":26,"./util":32}],30:[function(e,t,n){function r(e){var t=a(e,"d");return t="var __t; return "+t+";",new Function("d",t).bind(c)}function a(e,t,n){t=t||"obj";var r=0,a="'",s=l;return e.replace(s,function(s,u,f){return a+=e.slice(r,f).replace(m,o),r=f+s.length,u&&(a+="'\n+((__t=("+i(u,t,n)+"))==null?'':__t)+\n'"),s}),a+"'"}function i(e,t,n){function a(e){return e=e||"",m?(m=!1,g="String("+g+")"+e):g+=e,g}function i(){return"(typeof "+g+'==="number"?new Date('+g+"):"+g+")"}function o(e,t){v=s(w[0],t,e),m=!1,g="this.formats["+v+"]("+g+")"}function c(e,t){v=s(w[0],t,e),m=!1,g="this.formats["+v+"]("+i()+")"}var l=e.match(d),p=l.shift().trim(),m=!0;n&&(n[p]=1);for(var g=r.property(t,p),b=0;b<l.length;++b){var y,v,x,_=l[b],w=null;switch((y=_.indexOf(":"))>0&&(_=_.slice(0,y),w=l[b].slice(y+1).match(h).map(function(e){return e.trim()})),_=_.trim()){case"length":a(".length");break;case"lower":a(".toLowerCase()");break;case"upper":a(".toUpperCase()");break;case"lower-locale":a(".toLocaleLowerCase()");break;case"upper-locale":a(".toLocaleUpperCase()");break;case"trim":a(".trim()");break;case"left":v=u.number(w[0]),a(".slice(0,"+v+")");break;case"right":v=u.number(w[0]),a(".slice(-"+v+")");break;case"mid":v=u.number(w[0]),x=v+u.number(w[1]),a(".slice(+"+v+","+x+")");break;case"slice":v=u.number(w[0]),a(".slice("+v+(w.length>1?","+u.number(w[1]):"")+")");break;case"truncate":v=u.number(w[0]),x=w[1],x="left"!==x&&"middle"!==x&&"center"!==x?"right":x,g="this.truncate("+a()+","+v+",'"+x+"')";break;case"pad":v=u.number(w[0]),x=w[1],x="left"!==x&&"middle"!==x&&"center"!==x?"right":x,g="this.pad("+a()+","+v+",'"+x+"')";break;case"number":o(f.number,"number");break;case"time":c(f.time,"time");break;case"time-utc":c(f.utc,"time-utc");break;default:throw Error("Unrecognized template filter: "+_)}}return g}function o(e){return"\\"+p[e]}function s(e,t,n){if(!("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]))throw Error("Format pattern must be quoted: "+e);if(e=e.slice(1,-1),t=t+":"+e,!c.format_map[t]){var r=n(e),a=c.formats.length;c.formats.push(r),c.format_map[t]=a}return c.format_map[t]}var u=e("./util"),f=e("./format"),c={formats:[],format_map:{},truncate:u.truncate,pad:u.pad};r.source=a,r.context=c,t.exports=r,r.clearFormatCache=function(){c.formats=[],c.format_map={}},r.property=function(e,t){var n=u.field(t).map(u.str).join("][");return e+"["+n+"]"};var l=/\{\{(.+?)\}\}|$/g,d=/(?:"[^"]*"|\'[^\']*\'|[^\|"]+|[^\|\']+)+/g,h=/(?:"[^"]*"|\'[^\']*\'|[^,"]+|[^,\']+)+/g,p={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},m=/\\|'|\r|\n|\u2028|\u2029/g},{"./format":16,"./util":32}],31:[function(e,t,n){function r(e){return f.setTime(+e),f}function a(e,t,n,r,a,i){var o={type:e,date:t,unit:n};return r?o.step=r:o.minstep=1,null!=a&&(o.min=a),null!=i&&(o.max=i),o}function i(e,t,n,r,i,o){return a(e,function(e){return t.offset(n,e)},function(e){return t.count(n,e)},r,i,o)}function o(e,t,n,r){var a,i,o,s=p[0];for(a=1,i=p.length;i>a;++a)if(s=p[a],t>s[0]){if(o=t/s[0],o>r)return e[p[a-1][1]];if(o>=n)return e[s[1]]}return e[p[i-1][1]]}function s(e){var t,n,r={};for(t=0,n=e.length;n>t;++t)r[e[t].type]=e[t];return r.find=function(t,n,r){return o(e,t,n,r)},r}var u=e("d3-time"),f=new Date,c=new Date(0,0,1).setFullYear(0),l=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),d=[i("second",u.second,c),i("minute",u.minute,c),i("hour",u.hour,c),i("day",u.day,c,[1,7]),i("month",u.month,c,[1,3,6]),i("year",u.year,c),a("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return r(e).getSeconds()},null,0,59),a("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return r(e).getMinutes()},null,0,59),a("hours",function(e){return new Date(1970,0,1,e)},function(e){return r(e).getHours()},null,0,23),a("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return r(e).getDay()},[1],0,6),a("dates",function(e){return new Date(1970,0,e)},function(e){return r(e).getDate()},[1],1,31),a("months",function(e){return new Date(1970,e%12,1)},function(e){return r(e).getMonth()},[1],0,11)],h=[i("second",u.utcSecond,l),i("minute",u.utcMinute,l),i("hour",u.utcHour,l),i("day",u.utcDay,l,[1,7]),i("month",u.utcMonth,l,[1,3,6]),i("year",u.utcYear,l),a("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return r(e).getUTCSeconds()},null,0,59),a("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return r(e).getUTCMinutes()},null,0,59),a("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return r(e).getUTCHours()},null,0,23),a("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return r(e).getUTCDay()},[1],0,6),a("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return r(e).getUTCDate()},[1],1,31),a("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return r(e).getUTCMonth()},[1],0,11)],p=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];t.exports=s(d),t.exports.utc=s(h)},{"d3-time":9}],32:[function(e,t,n){function r(e){return e.replace(d,"$1\\'")}function a(e,t){var n,r="";for(n=0;e>n;++n)r+=t;return r}function i(e,t,n){var r=0,a=e.split(p);return e=n?(a=a.reverse()).filter(function(e){return r+=e.length,t>=r}).reverse():a.filter(function(e){return r+=e.length,t>=r}),e.length?e.join("").trim():a[0].slice(0,t)}var o=e("buffer"),s=e("./time"),u=s.utc,f=t.exports={},c="__name__";f.namedfunc=function(e,t){return t[c]=e,t},f.name=function(e){return null==e?null:e[c]},f.identity=function(e){return e},f["true"]=f.namedfunc("true",function(){return!0}),f["false"]=f.namedfunc("false",function(){return!1}),f.duplicate=function(e){return JSON.parse(JSON.stringify(e))},f.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},f.extend=function(e){for(var t,n,r=1,a=arguments.length;a>r;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},f.length=function(e){return null!=e&&null!=e.length?e.length:null},f.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},f.vals=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},f.toMap=function(e,t){return(t=f.$(t))?e.reduce(function(e,n){return e[t(n)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},f.keystr=function(e){var t=e.length;if(!t)return"";for(var n=String(e[0]),r=1;t>r;++r)n+="|"+String(e[r]);return n};var l=Object.prototype.toString;f.isObject=function(e){return e===Object(e)},f.isFunction=function(e){return"[object Function]"===l.call(e)},f.isString=function(e){return"string"==typeof value||"[object String]"===l.call(e)},f.isArray=Array.isArray||function(e){return"[object Array]"===l.call(e)},f.isNumber=function(e){return"number"==typeof e||"[object Number]"===l.call(e)},f.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},f.isDate=function(e){return"[object Date]"===l.call(e)},f.isValid=function(e){return null!=e&&e===e},f.isBuffer=o.Buffer&&o.Buffer.isBuffer||f["false"],f.number=function(e){return null==e||""===e?null:+e},f["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},f.date=function(e){return null==e||""===e?null:Date.parse(e)},f.array=function(e){return null!=e?f.isArray(e)?e:[e]:[]},f.str=function(e){return f.isArray(e)?"["+e.map(f.str)+"]":f.isObject(e)?JSON.stringify(e):f.isString(e)?"'"+r(e)+"'":e};var d=/(^|[^\\])'/g,h=/\[(.*?)\]|[^.\[]+/g;f.field=function(e){return String(e).match(h).map(function(e){return"["!==e[0]?e:"'"!==e[1]&&'"'!==e[1]?e.slice(1,-1):e.slice(2,-2).replace(/\\(["'])/g,"$1")})},f.accessor=function(e){var t;return null==e||f.isFunction(e)?e:f.namedfunc(e,(t=f.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]})},f.$=f.accessor,f.mutator=function(e){var t;return f.isString(e)&&(t=f.field(e)).length>1?function(e,n){for(var r=0;r<t.length-1;++r)e=e[t[r]];e[t[r]]=n}:function(t,n){t[e]=n}},f.$func=function(e,t){return function(n){n=f.$(n)||f.identity;var r=e+(f.name(n)?"_"+f.name(n):"");return f.namedfunc(r,function(e){return t(n(e))})}},f.$valid=f.$func("valid",f.isValid),f.$length=f.$func("length",f.length),f.$in=function(e,t){e=f.$(e);var n=f.isArray(t)?f.toMap(t):t;return function(t){return!!n[e(t)]}},f.$year=f.$func("year",s.year.unit),f.$month=f.$func("month",s.months.unit),f.$date=f.$func("date",s.dates.unit),f.$day=f.$func("day",s.weekdays.unit),f.$hour=f.$func("hour",s.hours.unit),f.$minute=f.$func("minute",s.minutes.unit),f.$second=f.$func("second",s.seconds.unit),f.$utcYear=f.$func("utcYear",u.year.unit),f.$utcMonth=f.$func("utcMonth",u.months.unit),f.$utcDate=f.$func("utcDate",u.dates.unit),f.$utcDay=f.$func("utcDay",u.weekdays.unit),f.$utcHour=f.$func("utcHour",u.hours.unit),f.$utcMinute=f.$func("utcMinute",u.minutes.unit),f.$utcSecond=f.$func("utcSecond",u.seconds.unit),f.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=f.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),f.accessor(e)}),function(n,r){var a,i,o,s,u;for(a=0,i=e.length;i>a;++a){if(o=e[a],s=o(n),u=o(r),u>s)return-1*t[a];if(s>u)return t[a]}return 0}},f.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e?-1:null===t?1:NaN},f.numcmp=function(e,t){return e-t},f.stablesort=function(e,t,n){var r=e.reduce(function(e,t,r){return e[n(t)]=r,e},{});return e.sort(function(e,a){var i=t(e),o=t(a);return o>i?-1:i>o?1:r[n(e)]-r[n(a)]}),e},f.pad=function(e,t,n,r){r=r||" ";var i=t-e.length;if(0>=i)return e;switch(n){case"left":return a(i,r)+e;case"middle":case"center":return a(Math.floor(i/2),r)+e+a(Math.ceil(i/2),r);default:return e+a(i,r)}},f.truncate=function(e,t,n,r,a){var o=e.length;if(t>=o)return e;a=void 0!==a?String(a):"…";var s=Math.max(0,t-a.length);switch(n){case"left":return a+(r?i(e,s,1):e.slice(o-s));case"middle":case"center":var u=Math.ceil(s/2),f=Math.floor(s/2);return(r?i(e,u):e.slice(0,u))+a+(r?i(e,f,1):e.slice(o-f));default:return(r?i(e,s):e.slice(0,s))+a}};var p=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/},{"./time":31,buffer:1}],33:[function(e,t,n){function r(e){e="[Vega Log] "+e,console.log(e)}function a(e){e="[Vega Err] "+e,console.error(e)}function i(e,t){if(i.enable){var n=Function.prototype.bind.call(console.log,console),r={prevTime:Date.now()-o,stamp:e.stamp};e.add&&(r.add=e.add.length,r.mod=e.mod.length,r.rem=e.rem.length,r.reflow=!!e.reflow),n.apply(console,(t.push(JSON.stringify(r)),t)),o=Date.now()}}var o=Date.now();t.exports={log:r,error:a,debug:(i.enable=!1,i)}},{}],34:[function(e,t,n){function r(e,t){var n={};return a(e,n),n.add=[],n.mod=[],n.rem=[],n.reflow=t,n}function a(e,t){t.stamp=e?e.stamp:0,t.sort=e?e.sort:null,t.facet=e?e.facet:null,t.trans=e?e.trans:null,t.dirty=e?e.dirty:[],t.request=e?e.request:null;for(var n,r=0,a=i.length;a>r;++r)t[n=i[r]]=e?e[n]:{}}var i=e("./Dependencies").ALL;t.exports={create:r,copy:a}},{"./Dependencies":37}],35:[function(e,t,n){function r(e){o.init.call(this,e),this._data=[],this.router(!0).collector(!0)}var a=e("vega-logging"),i=e("./Tuple"),o=e("./Node").prototype,s=r.prototype=Object.create(o);s.constructor=r,s.data=function(){return this._data},s.evaluate=function(e){return a.debug(e,["collecting"]),e.rem.length&&(this._data=i.idFilter(this._data,e.rem)),e.add.length&&(this._data=this._data.length?this._data.concat(e.add):e.add),e.sort&&this._data.sort(e.sort),e.reflow&&(e.mod=e.mod.concat(i.idFilter(this._data,e.add,e.mod,e.rem)),e.reflow=!1),e},t.exports=r},{"./Node":40,"./Tuple":42,"vega-logging":33}],36:[function(e,t,n){function r(e,t,n){this._graph=e,this._name=t,this._data=[],this._source=null,this._facet=n,this._input=u.create(),this._output=null,this._inputNode=null,this._outputNode=null,this._pipeline=null,this._collector=null,this._mutates=!1}function a(e){var t=new l(e._graph).router(!0).collector(!0);return t.data=function(){return e._data},t.evaluate=function(t){s.debug(t,["input",e._name]);var n,r=e._input,a=u.create(t);for(n in r.fields)a.fields[n]=1;return r.rem.length&&(e._data=c.idFilter(e._data,r.rem)),r.add.length&&(e._data=e._data.concat(r.add)),r.sort&&e._data.sort(r.sort),t.reflow&&(r.mod=r.mod.concat(c.idFilter(e._data,r.add,r.mod,r.rem))),e._input=u.create(),a.add=r.add,a.mod=r.mod,a.rem=r.rem,a.facet=e._facet,a},t}function i(e){var t=new l(e._graph).router(!0).reflows(!0).collector(!0);return t.data=function(){return e._collector?e._collector.data():e._data},t.evaluate=function(t){s.debug(t,["output",e._name]);var n=u.create(t,!0);return e._facet&&(e._facet.values=e.values(),t.facet=null),e._output=t,n.data[e._name]=1,n},t}function o(e){var t=new l(e._graph).router(!0);return t.evaluate=function(t){if(e.mutates()){var n=e._srcMap||(e._srcMap={}),r=u.create(t);return r.add=t.add.map(function(e){return n[e._id]=c.derive(e)}),r.mod=t.mod.map(function(e){return c.rederive(e,n[e._id])}),r.rem=t.rem.map(function(e){var t=n[e._id];return n[e._id]=null,t}),e._input=r}return e._input=t},t}var s=e("vega-logging"),u=e("./ChangeSet"),f=e("./Collector"),c=e("./Tuple"),l=e("./Node"),d=r.prototype;d.name=function(e){return arguments.length?(this._name=e,this):this._name},d.source=function(e){return arguments.length?this._source=this._graph.data(e):this._source},d.insert=function(e){return this._input.add=this._input.add.concat(e.map(c.ingest)),this},d.remove=function(e){var t=this._data.filter(e);return this._input.rem=this._input.rem.concat(t),this},d.update=function(e,t,n){var r=this._input.mod,a=c.idMap(r);return this._input.fields[t]=1,this._data.filter(e).forEach(function(e){var i=e[t],o=n(e);i!==o&&(c.set(e,t,o),1!==a[e._id]&&(r.push(e),a[e._id]=1))}),this},d.values=function(e){return arguments.length?(this._input.rem=this._data.slice(),e&&this.insert(e),this):this._collector.data()},d.mutates=function(e){return arguments.length?(this._mutates=this._mutates||e,this):this._mutates},d.last=function(){return this._output},d.fire=function(e){return e&&(this._input=e),this._graph.propagate(this._input,this._pipeline[0]),this},d.pipeline=function(e){if(!arguments.length)return this._pipeline;var t,n=this._graph;return e.unshift(this._inputNode=a(this)),t=n.preprocess(e),t.router&&e.push(t.collector=new f(n)),e.push(this._outputNode=i(this)),this._collector=t.collector,this._mutates=!!t.mutates,n.connect(this._pipeline=e),this},d.synchronize=function(){return this._graph.synchronize(this._pipeline),this},d.listener=function(){return o(this).addListener(this._inputNode)},d.addListener=function(e){return e instanceof r?this._collector.addListener(e.listener()):this._outputNode.addListener(e),this},d.removeListener=function(e){this._outputNode.removeListener(e)},d.listeners=function(e){return(e?this._collector:this._outputNode).listeners()},t.exports=r},{"./ChangeSet":34,"./Collector":35,"./Node":40,"./Tuple":42,"vega-logging":33}],37:[function(e,t,n){var r=t.exports={ALL:["data","fields","scales","signals"]};r.ALL.forEach(function(e){r[e.toUpperCase()]=e})},{}],38:[function(e,t,n){function r(){}var a=e("datalib"),i=e("./Heap"),o=e("./ChangeSet"),s=e("./DataSource"),u=e("./Collector"),f=e("./Tuple"),c=e("./Signal"),l=e("./Dependencies"),d=r.prototype;d.init=function(){this._stamp=0,this._rank=0,this._data={},this._signals={},this.doNotPropagate={}},d.rank=function(){return++this._rank},d.values=function(e,t,n){var r,i,o=e===l.SIGNALS?this._signals:this._data,s=void 0!==t?t:a.keys(o);if(Array.isArray(s)){for(r=n||{},i=0;i<s.length;++i)r[s[i]]=o[s[i]].values();return r}return o[s].values()},d.dataValues=function(e){return this.values(l.DATA,e)},d.signalValues=function(e){return this.values(l.SIGNALS,e)},d.data=function(e,t,n){var r=this._data;if(arguments.length)return 1===arguments.length?r[e]:r[e]=new s(this,e,n).pipeline(t);var a,i=[];for(a in r)i.push(r[a]);return i},d.signal=function(e,t){if(1===arguments.length){var n=this;return Array.isArray(e)?e.map(function(e){return n._signals[e]}):this._signals[e]}return this._signals[e]=new c(this,e,t)},d.signalRef=function(e){Array.isArray(e)||(e=a.field(e));var t=this.signal(e[0]).value();if(e.length>1)for(var n=1,r=e.length;r>n;++n)t=t[e[n]];return t},d.propagate=function(e,t,n){var r,a,s,u,f,c,l,d={},h=new i(function(e,t){return e._qrank-t._qrank});if(e.stamp)throw Error("Pulse already has a non-zero stamp.");for(e.stamp=n||++this._stamp,d[t._id]=e,h.push(t.qrank(!0));h.size()>0;)if(t=h.peek(),e=d[t._id],t.rank()!==t.qrank())h.replace(t.qrank(!0));else if(h.pop(),d[t._id]=null,r=t._listeners,e=this.evaluate(e,t),e!==this.doNotPropagate)for(!e.reflow&&t.reflows()&&(e=o.create(e,!0)),c=0,l=r.length;l>c;++c)if(a=r[c],void 0!==(s=d[a._id])){if(null===s)throw Error("Already propagated to node.");if(s===e)continue;if(u=e.add.length||e.mod.length||e.rem.length,f=s.add.length||s.mod.length||s.rem.length,u&&f)throw Error("Multiple changeset pulses to same node");d[a._id]=u?e:s,d[a._id].reflow=e.reflow||s.reflow}else h.push(a.qrank(!0)),d[a._id]=e},d.preprocess=function(e){for(var t,n,r,a,i=this,o=0,s=0;s<e.length;++s)t=e[s],t.batch()&&!t._collector&&(n||!r?(t=new u(i),e.splice(s,0,t),n=!1):t._collector=r),(a=t.collector())&&(r=t),n=n||t.router()&&!a,o=o||t.mutates(),t.produces()&&(e.splice(s+1,0,new u(i)),n=!1);return{router:n,collector:r,mutates:o}},d.connect=function(e){var t,n,r,i,o,s,u,f,c,d;for(o=0,s=e.length;s>o;++o){for(n=e[o],n.collector()&&(t=n),r=n.dependency(l.DATA),u=0,f=r.length;f>u;++u){if(!(c=this.data(d=r[u])))throw new Error("Unknown data source "+a.str(d));c.addListener(t)}for(i=n.dependency(l.SIGNALS),u=0,f=i.length;f>u;++u){if(!(c=this.signal(d=i[u])))throw new Error("Unknown signal "+a.str(d));c.addListener(t)}o>0&&e[o-1].addListener(n)}return e},d.disconnect=function(e){var t,n,r,a,i,o,s,u;for(i=0,o=e.length;o>i;++i){for(n=e[i],n.collector()&&(t=n),r=n.dependency(l.DATA),s=0,u=r.length;u>s;++s)this.data(r[s]).removeListener(t);for(a=n.dependency(l.SIGNALS),s=0,u=a.length;u>s;++s)this.signal(a[s]).removeListener(t);n.disconnect()}return e},d.synchronize=function(e){var t,n,r,a,i,o,s,u,c={};for(r=0,a=e.length;a>r;++r)if(t=e[r],t.collector())for(i=0,n=t.data(),o=n.length;o>i;++i)u=(s=n[i])._id,c[u]||(f.prev_update(s),c[u]=1);return this},d.reevaluate=function(e,t){var n=e.reflow&&t.last()>=e.stamp,r=t.router()||e.add.length||e.rem.length;return r||!n||t.reevaluate(e)},d.evaluate=function(e,t){return this.reevaluate(e,t)?(e=t.evaluate(e),t.last(e.stamp),e):e},t.exports=r},{"./ChangeSet":34,"./Collector":35,"./DataSource":36,"./Dependencies":37,"./Heap":39,"./Signal":41,"./Tuple":42,datalib:27}],39:[function(e,t,n){function r(e){this.cmp=e,this.nodes=[]}function a(e,t,n,r){var a,i,o;for(a=e[n];n>t&&(o=n-1>>1,i=e[o],r(a,i)<0);)e[n]=i,n=o;return e[n]=a}function i(e,t,n){for(var r,i=t,o=e.length,s=e[t],u=2*t+1;o>u;)r=u+1,o>r&&n(e[u],e[r])>=0&&(u=r),e[t]=e[u],t=u,u=2*t+1;return e[t]=s,a(e,i,t,n)}var o=r.prototype;o.size=function(){return this.nodes.length},o.clear=function(){return this.nodes=[],this},o.peek=function(){return this.nodes[0]},o.push=function(e){var t=this.nodes;return t.push(e),a(t,0,t.length-1,this.cmp)},o.pop=function(){var e,t=this.nodes,n=t.pop();return t.length?(e=t[0],t[0]=n,i(t,0,this.cmp)):e=n,e},o.replace=function(e){var t=this.nodes,n=t[0];return t[0]=e,i(t,0,this.cmp),n},o.pushpop=function(e){var t=this.nodes,n=t[0];return t.length&&this.cmp(n,e)<0&&(t[0]=e,e=n,i(t,0,this.cmp)),e},t.exports=r},{}],40:[function(e,t,n){function r(e){e&&this.init(e)}var a=e("./Dependencies").ALL,i=0,o=r.Flags={Router:1,Collector:2,Produces:4,Mutates:8,Reflows:16,Batch:32},s=r.prototype;s.init=function(e){this._id=++i,this._graph=e,this._rank=e.rank(),this._qrank=null,this._stamp=0,this._listeners=[],this._listeners._ids={},this._deps={};for(var t=0,n=a.length;n>t;++t)this._deps[a[t]]=[];return this._flags=0,this},s.rank=function(){return this._rank},s.qrank=function(){return arguments.length?(this._qrank=this._rank,this):this._qrank},s.last=function(e){return arguments.length?(this._stamp=e,this):this._stamp},s._setf=function(e,t){return t?this._flags|=e:this._flags&=~e,this},s.router=function(e){return arguments.length?this._setf(o.Router,e):this._flags&o.Router},s.collector=function(e){return arguments.length?this._setf(o.Collector,e):this._flags&o.Collector},s.produces=function(e){return arguments.length?this._setf(o.Produces,e):this._flags&o.Produces},s.mutates=function(e){return arguments.length?this._setf(o.Mutates,e):this._flags&o.Mutates},s.reflows=function(e){return arguments.length?this._setf(o.Reflows,e):this._flags&o.Reflows},s.batch=function(e){return arguments.length?this._setf(o.Batch,e):this._flags&o.Batch},s.dependency=function(e,t){var n=this._deps[e],r=n._names||(n._names={});if(1===arguments.length)return n;if(null===t)n.splice(0,n.length),n._names={};else if(Array.isArray(t))for(var a,i=0,o=t.length;o>i;++i)a=t[i],r[a]||(n.push(a),r[a]=1);else{if(r[t])return this;n.push(t),r[t]=1}return this},s.listeners=function(){return this._listeners},s.addListener=function(e){if(!(e instanceof r))throw Error("Listener is not a Node");if(this._listeners._ids[e._id])return this;if(this._listeners.push(e),this._listeners._ids[e._id]=1,this._rank>e._rank)for(var t,n=[e],a=this._graph;n.length;)t=n.shift(),t._rank=a.rank(),n.unshift.apply(n,t.listeners());return this},s.removeListener=function(e){if(!this._listeners._ids[e._id])return!1;var t=this._listeners.indexOf(e),n=t>=0;return n&&(this._listeners.splice(t,1),this._listeners._ids[e._id]=null),n},s.disconnect=function(){this._listeners=[],this._listeners._ids={}},s.evaluate=function(e){return e},s.reevaluate=function(e){var t,n,r,i,o,s;for(r=0,i=a.length;i>r;++r)for(t=a[r],n=this._deps[t],o=0,s=n.length;s>o;++o)if(e[t][n[o]])return!0;return!1},r.reset=function(){i=0},t.exports=r},{"./Dependencies":37}],41:[function(e,t,n){function r(e,t,n){return o.init.call(this,e),this._name=t,this._value=n,this._verbose=!1,this._handlers=[],this}var a=e("./ChangeSet"),i=e("./Node"),o=i.prototype,s=r.prototype=Object.create(o);s.constructor=r,s.name=function(){return this._name},s.value=function(e){return arguments.length?(this._value=e,this):this._value},s.values=s.value,s.verbose=function(e){return arguments.length?(this._verbose=!!e,this):this._verbose},s.evaluate=function(e){return e.signals[this._name]?e:this._graph.doNotPropagate},s.fire=function(e){e||(e=a.create(null,!0)),e.signals[this._name]=1,this._graph.propagate(e,this)},s.on=function(e){var t=this,n=new i(this._graph);return n.evaluate=function(n){return e(t.name(),t.value()),n},this._handlers.push({handler:e,node:n}),this.addListener(n)},s.off=function(e){var t,n,r=this._handlers;for(t=r.length;--t>=0;)e&&r[t].handler!==e||(n=r.splice(t,1)[0],this.removeListener(n.node));return this},t.exports=r},{"./ChangeSet":34,"./Node":40}],42:[function(e,t,n){function r(e){return e=e===Object(e)?e:{data:e},e._id=++o,e._prev&&(e._prev=null),e}function a(e,t){t=t||{};for(var n=0,r=e.length;r>n;++n)t[e[n]._id]=1;return t}function i(e,t){t=t||{};for(var n in e)"_prev"!==n&&"_id"!==n&&(t[n]=e[n]);return t}var o=0;t.exports={ingest:r,idMap:a,derive:function(e){return r(i(e))},rederive:function(e,t){return i(e,t)},set:function(e,t,n){return e[t]===n?0:(e[t]=n,1)},prev:function(e){return e._prev||e},prev_init:function(e){e._prev||(e._prev={_id:e._id})},prev_update:function(e){var t,n,r=e._prev;if(r)for(t in e)"_prev"!==t&&"_id"!==t&&(r[t]=(n=e[t])instanceof Object&&n._prev?n._prev:n)},reset:function(){o=0},idFilter:function(e){for(var t={},n=arguments.length;--n>0;)a(arguments[n],t);return e.filter(function(e){return!t[e._id]})}}},{}],43:[function(e,t,n){t.exports={ChangeSet:e("./ChangeSet"),Collector:e("./Collector"),DataSource:e("./DataSource"),Dependencies:e("./Dependencies"),Graph:e("./Graph"),Node:e("./Node"),Signal:e("./Signal"),Tuple:e("./Tuple"),debug:e("vega-logging").debug}},{"./ChangeSet":34,"./Collector":35,"./DataSource":36,"./Dependencies":37,"./Graph":38,"./Node":40,"./Signal":41,"./Tuple":42,"vega-logging":33}],44:[function(e,t,n){function r(e){var t,n,r={};for(t=0,n=e.length;n>t;++t)r[e[t]]=1;return r}function a(e){var t,n=[];for(t in e)n.push(t);return n}t.exports=function(t){function n(e){var t={code:o(e),globals:a(p),fields:a(m)};return p={},m={},t}function i(e){return h+'["'+e+'"]'}function o(e){if("string"==typeof e)return e;var t=g[e.type];if(null==t)throw new Error("Unsupported type: "+e.type);return t(e)}t=t||{};var s=t.constants||e("./constants"),u=(t.functions||e("./functions"))(o),f=t.idWhiteList?r(t.idWhiteList):null,c=t.idBlackList?r(t.idBlackList):null,l=0,d=t.fieldVar||"datum",h=t.globalVar||"signals",p={},m={},g={Literal:function(e){return e.raw},Identifier:function(e){var t=e.name;if(l>0)return t;if(s.hasOwnProperty(t))return s[t];if(f)return f.hasOwnProperty(t)?t:(p[t]=1,i(t));if(c&&c.hasOwnProperty(t))throw new Error("Illegal identifier: "+t);return t},Program:function(e){return e.body.map(o).join("\n")},MemberExpression:function(e){var t=!e.computed,n=o(e.object);t&&(l+=1);var r=o(e.property);return n===d&&(m[r]=1),t&&(l-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){if("Identifier"!==e.callee.type)throw new Error("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=u.hasOwnProperty(t)&&u[t];if(!r)throw new Error("Unrecognized function: "+t);return r instanceof Function?r(n):r+"("+n.map(o).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(o).join(",")+"]"},BinaryExpression:function(e){return"("+o(e.left)+e.operator+o(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+o(e.argument)+")"},ConditionalExpression:function(e){return"("+o(e.test)+"?"+o(e.consequent)+":"+o(e.alternate)+")"},LogicalExpression:function(e){return"("+o(e.left)+e.operator+o(e.right)+")"},ObjectExpression:function(e){
return"{"+e.properties.map(o).join(",")+"}"},Property:function(e){l+=1;var t=o(e.key);return l-=1,t+":"+o(e.value)},ExpressionStatement:function(e){return o(e.expression)}};return n.functions=u,n.constants=s,n}},{"./constants":45,"./functions":46}],45:[function(e,t,n){t.exports={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"}},{}],46:[function(e,t,n){t.exports=function(e){function t(t,n,r,a){var i=e(n[0]);return r&&(i=r+"("+i+")",0===r.lastIndexOf("new ",0)&&(i="("+i+")")),i+"."+t+(0>a?"":0===a?"()":"("+n.slice(1).map(e).join(",")+")")}function n(e,n,r){return function(a){return t(e,a,n,r)}}var r="new Date",a="String",i="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){if(t.length<3)throw new Error("Missing arguments to clamp function.");if(t.length>3)throw new Error("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",a,0),lower:n("toLowerCase",a,0),slice:n("slice",a),substring:n("substring",a),regexp:i,test:n("test",i),"if":function(t){if(t.length<3)throw new Error("Missing arguments to if function.");if(t.length>3)throw new Error("Too many arguments to if function.");var n=t.map(e);return n[0]+"?"+n[1]+":"+n[2]}}}},{}],47:[function(e,t,n){var r=e("./parser"),a=e("./codegen"),i=t.exports={parse:function(e,t){return r.parse("("+e+")",t)},code:function(e){return a(e)},compiler:function(e,t){e=e.slice();var n=a(t),r=e.length,o=function(t){var a=n(i.parse(t));return e[r]='"use strict"; return ('+a.code+");",a.fn=Function.apply(null,e),a};return o.codegen=n,o},functions:e("./functions"),constants:e("./constants")}},{"./codegen":44,"./constants":45,"./functions":46,"./parser":48}],48:[function(e,t,n){t.exports=function(){"use strict";function e(e,t){if(!e)throw new Error("ASSERT: "+t)}function t(e){return e>=48&&57>=e}function n(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function r(e){return"01234567".indexOf(e)>=0}function a(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function i(e){return 10===e||13===e||8232===e||8233===e}function o(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&Se.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function s(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&Se.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function u(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function f(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function c(e){if(Te&&f(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function l(){var e,t;for(t=0===De;Oe>De;)if(e=ke.charCodeAt(De),a(e))++De;else{if(!i(e))break;++De,13===e&&10===ke.charCodeAt(De)&&++De,++Ce,Le=De,t=!0}}function d(e){var t,r,a,i=0;for(r="u"===e?4:2,t=0;r>t;++t){if(!(Oe>De&&n(ke[De])))return"";a=ke[De++],i=16*i+"0123456789abcdef".indexOf(a.toLowerCase())}return String.fromCharCode(i)}function h(){var e,t,r,a;for(e=ke[De],t=0,"}"===e&&P({},Me.UnexpectedToken,"ILLEGAL");Oe>De&&(e=ke[De++],n(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&P({},Me.UnexpectedToken,"ILLEGAL"),65535>=t?String.fromCharCode(t):(r=(t-65536>>10)+55296,a=(t-65536&1023)+56320,String.fromCharCode(r,a))}function p(){var e,t;for(e=ke.charCodeAt(De++),t=String.fromCharCode(e),92===e&&(117!==ke.charCodeAt(De)&&P({},Me.UnexpectedToken,"ILLEGAL"),++De,e=d("u"),e&&"\\"!==e&&o(e.charCodeAt(0))||P({},Me.UnexpectedToken,"ILLEGAL"),t=e);Oe>De&&(e=ke.charCodeAt(De),s(e));)++De,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==ke.charCodeAt(De)&&P({},Me.UnexpectedToken,"ILLEGAL"),++De,e=d("u"),e&&"\\"!==e&&s(e.charCodeAt(0))||P({},Me.UnexpectedToken,"ILLEGAL"),t+=e);return t}function m(){var e,t;for(e=De++;Oe>De;){if(t=ke.charCodeAt(De),92===t)return De=e,p();if(!s(t))break;++De}return ke.slice(e,De)}function g(){var e,t,n;return e=De,t=92===ke.charCodeAt(De)?p():m(),n=1===t.length?ve.Identifier:c(t)?ve.Keyword:"null"===t?ve.NullLiteral:"true"===t||"false"===t?ve.BooleanLiteral:ve.Identifier,{type:n,value:t,lineNumber:Ce,lineStart:Le,start:e,end:De}}function b(){var e,t,n,r,a=De,i=ke.charCodeAt(De),o=ke[De];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++De,Ne.tokenize&&(40===i?Ne.openParenToken=Ne.tokens.length:123===i&&(Ne.openCurlyToken=Ne.tokens.length)),{type:ve.Punctuator,value:String.fromCharCode(i),lineNumber:Ce,lineStart:Le,start:a,end:De};default:if(e=ke.charCodeAt(De+1),61===e)switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return De+=2,{type:ve.Punctuator,value:String.fromCharCode(i)+String.fromCharCode(e),lineNumber:Ce,lineStart:Le,start:a,end:De};case 33:case 61:return De+=2,61===ke.charCodeAt(De)&&++De,{type:ve.Punctuator,value:ke.slice(a,De),lineNumber:Ce,lineStart:Le,start:a,end:De}}}return r=ke.substr(De,4),">>>="===r?(De+=4,{type:ve.Punctuator,value:r,lineNumber:Ce,lineStart:Le,start:a,end:De}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(De+=3,{type:ve.Punctuator,value:n,lineNumber:Ce,lineStart:Le,start:a,end:De}):(t=n.substr(0,2),o===t[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?(De+=2,{type:ve.Punctuator,value:t,lineNumber:Ce,lineStart:Le,start:a,end:De}):"<>=!+-*%&|^/".indexOf(o)>=0?(++De,{type:ve.Punctuator,value:o,lineNumber:Ce,lineStart:Le,start:a,end:De}):void P({},Me.UnexpectedToken,"ILLEGAL")))}function y(e){for(var t="";Oe>De&&n(ke[De]);)t+=ke[De++];return 0===t.length&&P({},Me.UnexpectedToken,"ILLEGAL"),o(ke.charCodeAt(De))&&P({},Me.UnexpectedToken,"ILLEGAL"),{type:ve.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:Ce,lineStart:Le,start:e,end:De}}function v(e){for(var n="0"+ke[De++];Oe>De&&r(ke[De]);)n+=ke[De++];return(o(ke.charCodeAt(De))||t(ke.charCodeAt(De)))&&P({},Me.UnexpectedToken,"ILLEGAL"),{type:ve.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:Ce,lineStart:Le,start:e,end:De}}function x(){var n,a,i;if(i=ke[De],e(t(i.charCodeAt(0))||"."===i,"Numeric literal must start with a decimal digit or a decimal point"),a=De,n="","."!==i){if(n=ke[De++],i=ke[De],"0"===n){if("x"===i||"X"===i)return++De,y(a);if(r(i))return v(a);i&&t(i.charCodeAt(0))&&P({},Me.UnexpectedToken,"ILLEGAL")}for(;t(ke.charCodeAt(De));)n+=ke[De++];i=ke[De]}if("."===i){for(n+=ke[De++];t(ke.charCodeAt(De));)n+=ke[De++];i=ke[De]}if("e"===i||"E"===i)if(n+=ke[De++],i=ke[De],("+"===i||"-"===i)&&(n+=ke[De++]),t(ke.charCodeAt(De)))for(;t(ke.charCodeAt(De));)n+=ke[De++];else P({},Me.UnexpectedToken,"ILLEGAL");return o(ke.charCodeAt(De))&&P({},Me.UnexpectedToken,"ILLEGAL"),{type:ve.NumericLiteral,value:parseFloat(n),lineNumber:Ce,lineStart:Le,start:a,end:De}}function _(){var t,n,a,o,s,u,f,c,l="",p=!1;for(f=Ce,c=Le,t=ke[De],e("'"===t||'"'===t,"String literal must starts with a quote"),n=De,++De;Oe>De;){if(a=ke[De++],a===t){t="";break}if("\\"===a)if(a=ke[De++],a&&i(a.charCodeAt(0)))++Ce,"\r"===a&&"\n"===ke[De]&&++De,Le=De;else switch(a){case"u":case"x":"{"===ke[De]?(++De,l+=h()):(u=De,s=d(a),s?l+=s:(De=u,l+=a));break;case"n":l+="\n";break;case"r":l+="\r";break;case"t":l+="	";break;case"b":l+="\b";break;case"f":l+="\f";break;case"v":l+="";break;default:r(a)?(o="01234567".indexOf(a),0!==o&&(p=!0),Oe>De&&r(ke[De])&&(p=!0,o=8*o+"01234567".indexOf(ke[De++]),"0123".indexOf(a)>=0&&Oe>De&&r(ke[De])&&(o=8*o+"01234567".indexOf(ke[De++]))),l+=String.fromCharCode(o)):l+=a}else{if(i(a.charCodeAt(0)))break;l+=a}}return""!==t&&P({},Me.UnexpectedToken,"ILLEGAL"),{type:ve.StringLiteral,value:l,octal:p,startLineNumber:f,startLineStart:c,lineNumber:Ce,lineStart:Le,start:n,end:De}}function w(e,t){var n,r=e;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){return parseInt(t,16)<=1114111?"x":void P({},Me.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{n=new RegExp(r)}catch(a){P({},Me.InvalidRegExp)}try{return new RegExp(e,t)}catch(i){return null}}function M(){var t,n,r,a,o;for(t=ke[De],e("/"===t,"Regular expression literal must start with a slash"),n=ke[De++],r=!1,a=!1;Oe>De;)if(t=ke[De++],n+=t,"\\"===t)t=ke[De++],i(t.charCodeAt(0))&&P({},Me.UnterminatedRegExp),n+=t;else if(i(t.charCodeAt(0)))P({},Me.UnterminatedRegExp);else if(r)"]"===t&&(r=!1);else{if("/"===t){a=!0;break}"["===t&&(r=!0)}return a||P({},Me.UnterminatedRegExp),o=n.substr(1,n.length-2),{value:o,literal:n}}function S(){var e,t,n,r;for(t="",n="";Oe>De&&(e=ke[De],s(e.charCodeAt(0)));)if(++De,"\\"===e&&Oe>De)if(e=ke[De],"u"===e){if(++De,r=De,e=d("u"))for(n+=e,t+="\\u";De>r;++r)t+=ke[r];else De=r,n+="u",t+="\\u";I({},Me.UnexpectedToken,"ILLEGAL")}else t+="\\",I({},Me.UnexpectedToken,"ILLEGAL");else n+=e,t+=e;return{value:n,literal:t}}function k(){var e,t,n,r;return Ae=null,l(),e=De,t=M(),n=S(),r=w(t.value,n.value),Ne.tokenize?{type:ve.RegularExpression,value:r,regex:{pattern:t.value,flags:n.value},lineNumber:Ce,lineStart:Le,start:e,end:De}:{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:De}}function T(){var e,t,n,r;return l(),e=De,t={start:{line:Ce,column:De-Le}},n=k(),t.end={line:Ce,column:De-Le},Ne.tokenize||(Ne.tokens.length>0&&(r=Ne.tokens[Ne.tokens.length-1],r.range[0]===e&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&Ne.tokens.pop()),Ne.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[e,De],loc:t})),n}function D(e){return e.type===ve.Identifier||e.type===ve.Keyword||e.type===ve.BooleanLiteral||e.type===ve.NullLiteral}function C(){var e,t;if(e=Ne.tokens[Ne.tokens.length-1],!e)return T();if("Punctuator"===e.type){if("]"===e.value)return b();if(")"===e.value)return t=Ne.tokens[Ne.openParenToken-1],!t||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?b():T();if("}"===e.value){if(Ne.tokens[Ne.openCurlyToken-3]&&"Keyword"===Ne.tokens[Ne.openCurlyToken-3].type){if(t=Ne.tokens[Ne.openCurlyToken-4],!t)return b()}else{if(!Ne.tokens[Ne.openCurlyToken-4]||"Keyword"!==Ne.tokens[Ne.openCurlyToken-4].type)return b();if(t=Ne.tokens[Ne.openCurlyToken-5],!t)return T()}return b()}return T()}return"Keyword"===e.type&&"this"!==e.value?T():b()}function L(){var e;return l(),De>=Oe?{type:ve.EOF,lineNumber:Ce,lineStart:Le,start:De,end:De}:(e=ke.charCodeAt(De),o(e)?g():40===e||41===e||59===e?b():39===e||34===e?_():46===e?t(ke.charCodeAt(De+1))?x():b():t(e)?x():Ne.tokenize&&47===e?C():b())}function O(){var e,t,n,r;return l(),e={start:{line:Ce,column:De-Le}},t=L(),e.end={line:Ce,column:De-Le},t.type!==ve.EOF&&(n=ke.slice(t.start,t.end),r={type:xe[t.type],value:n,range:[t.start,t.end],loc:e},t.regex&&(r.regex={pattern:t.regex.pattern,flags:t.regex.flags}),Ne.tokens.push(r)),t}function A(){var e;return e=Ae,De=e.end,Ce=e.lineNumber,Le=e.lineStart,Ae="undefined"!=typeof Ne.tokens?O():L(),De=e.end,Ce=e.lineNumber,Le=e.lineStart,e}function E(){var e,t,n;e=De,t=Ce,n=Le,Ae="undefined"!=typeof Ne.tokens?O():L(),De=e,Ce=t,Le=n}function N(){this.line=Ce,this.column=De-Le}function R(){this.start=new N,this.end=null}function U(e){e.type===ve.StringLiteral?this.start={line:e.startLineNumber,column:e.start-e.startLineStart}:this.start={line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function j(){De=Ae.start,Ae.type===ve.StringLiteral?(Ce=Ae.startLineNumber,Le=Ae.startLineStart):(Ce=Ae.lineNumber,Le=Ae.lineStart),Ne.range&&(this.range=[De,0]),Ne.loc&&(this.loc=new R)}function Y(e){Ne.range&&(this.range=[e.start,0]),Ne.loc&&(this.loc=new U(e))}function F(){var e,t,n,r;return e=De,t=Ce,n=Le,l(),r=Ce!==t,De=e,Ce=t,Le=n,r}function P(t,n){var r,a=Array.prototype.slice.call(arguments,2),i=n.replace(/%(\d)/g,function(t,n){return e(n<a.length,"Message reference must be in range"),a[n]});throw"number"==typeof t.lineNumber?(r=new Error("Line "+t.lineNumber+": "+i),r.index=t.start,r.lineNumber=t.lineNumber,r.column=t.start-Le+1):(r=new Error("Line "+Ce+": "+i),r.index=De,r.lineNumber=Ce,r.column=De-Le+1),r.description=i,r}function I(){try{P.apply(null,arguments)}catch(e){if(!Ne.errors)throw e;Ne.errors.push(e)}}function z(e){if(e.type===ve.EOF&&P(e,Me.UnexpectedEOS),e.type===ve.NumericLiteral&&P(e,Me.UnexpectedNumber),e.type===ve.StringLiteral&&P(e,Me.UnexpectedString),e.type===ve.Identifier&&P(e,Me.UnexpectedIdentifier),e.type===ve.Keyword){if(u(e.value))P(e,Me.UnexpectedReserved);else if(Te&&f(e.value))return void I(e,Me.StrictReservedWord);P(e,Me.UnexpectedToken,e.value)}P(e,Me.UnexpectedToken,e.value)}function X(e){var t=A();(t.type!==ve.Punctuator||t.value!==e)&&z(t)}function H(e){if(Ne.errors){var t=Ae;t.type!==ve.Punctuator&&t.value!==e?I(t,Me.UnexpectedToken,t.value):A()}else X(e)}function q(e){return Ae.type===ve.Punctuator&&Ae.value===e}function W(e){return Ae.type===ve.Keyword&&Ae.value===e}function B(){var e;return 59===ke.charCodeAt(De)||q(";")?void A():(e=Ce,l(),void(Ce===e&&(Ae.type===ve.EOF||q("}")||z(Ae))))}function $(){var e=[],t=new j;for(X("[");!q("]");)q(",")?(A(),e.push(null)):(e.push(fe()),q("]")||X(","));return A(),t.finishArrayExpression(e)}function G(){var e,t=new j;return e=A(),e.type===ve.StringLiteral||e.type===ve.NumericLiteral?(Te&&e.octal&&I(e,Me.StrictOctalLiteral),t.finishLiteral(e)):t.finishIdentifier(e.value)}function J(){var e,t,n,r,a=new j;return e=Ae,e.type===ve.Identifier?(n=G(),X(":"),r=fe(),a.finishProperty("init",n,r)):e.type!==ve.EOF&&e.type!==ve.Punctuator?(t=G(),X(":"),r=fe(),a.finishProperty("init",t,r)):void z(e)}function Z(){var e,t,n,r,a=[],i={},o=String,s=new j;for(X("{");!q("}");)e=J(),t=e.key.type===_e.Identifier?e.key.name:o(e.key.value),r="init"===e.kind?we.Data:"get"===e.kind?we.Get:we.Set,n="$"+t,Object.prototype.hasOwnProperty.call(i,n)?(i[n]===we.Data?Te&&r===we.Data?I({},Me.StrictDuplicateProperty):r!==we.Data&&I({},Me.AccessorDataProperty):r===we.Data?I({},Me.AccessorDataProperty):i[n]&r&&I({},Me.AccessorGetSet),i[n]|=r):i[n]=r,a.push(e),q("}")||H(",");return X("}"),s.finishObjectExpression(a)}function V(){var e;return X("("),++Ee.parenthesisCount,e=ce(),X(")"),e}function Q(){var e,t,n,r;if(q("("))return V();if(q("["))return $();if(q("{"))return Z();if(e=Ae.type,r=new j,e===ve.Identifier||Re[Ae.value])n=r.finishIdentifier(A().value);else if(e===ve.StringLiteral||e===ve.NumericLiteral)Te&&Ae.octal&&I(Ae,Me.StrictOctalLiteral),n=r.finishLiteral(A());else{if(e===ve.Keyword)throw new Error("Disabled.");e===ve.BooleanLiteral?(t=A(),t.value="true"===t.value,n=r.finishLiteral(t)):e===ve.NullLiteral?(t=A(),t.value=null,n=r.finishLiteral(t)):q("/")||q("/=")?(n="undefined"!=typeof Ne.tokens?r.finishLiteral(T()):r.finishLiteral(k()),E()):z(A())}return n}function K(){var e=[];if(X("("),!q(")"))for(;Oe>De&&(e.push(fe()),!q(")"));)H(",");return X(")"),e}function ee(){var e,t=new j;return e=A(),D(e)||z(e),t.finishIdentifier(e.value)}function te(){return X("."),ee()}function ne(){var e;return X("["),e=ce(),X("]"),e}function re(){var e,t,n,r,a=Ee.allowIn;for(r=Ae,Ee.allowIn=!0,e=Q();;)if(q("."))n=te(),e=new Y(r).finishMemberExpression(".",e,n);else if(q("("))t=K(),e=new Y(r).finishCallExpression(e,t);else{if(!q("["))break;n=ne(),e=new Y(r).finishMemberExpression("[",e,n)}return Ee.allowIn=a,e}function ae(){var e=re();if(Ae.type===ve.Punctuator&&(q("++")||q("--"))&&!F())throw new Error("Disabled.");return e}function ie(){var e,t,n;if(Ae.type!==ve.Punctuator&&Ae.type!==ve.Keyword)t=ae();else{if(q("++")||q("--"))throw new Error("Disabled.");if(q("+")||q("-")||q("~")||q("!"))n=Ae,e=A(),t=ie(),t=new Y(n).finishUnaryExpression(e.value,t);else{if(W("delete")||W("void")||W("typeof"))throw new Error("Disabled.");t=ae()}}return t}function oe(e,t){var n=0;if(e.type!==ve.Punctuator&&e.type!==ve.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=t?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function se(){var e,t,n,r,a,i,o,s,u,f;if(e=Ae,u=ie(),r=Ae,a=oe(r,Ee.allowIn),0===a)return u;for(r.prec=a,A(),t=[e,Ae],o=ie(),i=[u,r,o];(a=oe(Ae,Ee.allowIn))>0;){for(;i.length>2&&a<=i[i.length-2].prec;)o=i.pop(),s=i.pop().value,u=i.pop(),t.pop(),n=new Y(t[t.length-1]).finishBinaryExpression(s,u,o),i.push(n);r=A(),r.prec=a,i.push(r),t.push(Ae),n=ie(),i.push(n)}for(f=i.length-1,n=i[f],t.pop();f>1;)n=new Y(t.pop()).finishBinaryExpression(i[f-1].value,i[f-2],n),f-=2;return n}function ue(){var e,t,n,r,a;return a=Ae,e=se(),q("?")&&(A(),t=Ee.allowIn,Ee.allowIn=!0,n=fe(),Ee.allowIn=t,X(":"),r=fe(),e=new Y(a).finishConditionalExpression(e,n,r)),e}function fe(){var e,t,n,r;return e=Ee.parenthesisCount,r=Ae,t=Ae,n=ue()}function ce(){var e=fe();if(q(","))throw new Error("Disabled.");return e}function le(e){var t=ce();return B(),e.finishExpressionStatement(t)}function de(){var e,t,n=Ae.type;if(n===ve.EOF&&z(Ae),n===ve.Punctuator&&"{"===Ae.value)throw new Error("Disabled.");if(t=new j,n===ve.Punctuator)switch(Ae.value){case";":throw new Error("Disabled.");case"(":return le(t)}else if(n===ve.Keyword)throw new Error("Disabled.");return e=ce(),B(),t.finishExpressionStatement(e)}function he(){if(Ae.type===ve.Keyword)switch(Ae.value){case"const":case"let":throw new Error("Disabled.");case"function":throw new Error("Disabled.");default:return de()}return Ae.type!==ve.EOF?de():void 0}function pe(){for(var e,t,n,r,a=[];Oe>De&&(t=Ae,t.type===ve.StringLiteral)&&(e=he(),a.push(e),e.expression.type===_e.Literal);)n=ke.slice(t.start+1,t.end-1),"use strict"===n?(Te=!0,r&&I(r,Me.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(;Oe>De&&(e=he(),"undefined"!=typeof e);)a.push(e);return a}function me(){var e,t;return l(),E(),t=new j,Te=!0,e=pe(),t.finishProgram(e)}function ge(){var e,t,n,r=[];for(e=0;e<Ne.tokens.length;++e)t=Ne.tokens[e],n={type:t.type,value:t.value},t.regex&&(n.regex={pattern:t.regex.pattern,flags:t.regex.flags}),Ne.range&&(n.range=t.range),Ne.loc&&(n.loc=t.loc),r.push(n);Ne.tokens=r}function be(e,t){var n,r;n=String,"string"==typeof e||e instanceof String||(e=n(e)),ke=e,De=0,Ce=ke.length>0?1:0,Le=0,Oe=ke.length,Ae=null,Ee={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Ne={},t=t||{},t.tokens=!0,Ne.tokens=[],Ne.tokenize=!0,Ne.openParenToken=-1,Ne.openCurlyToken=-1,Ne.range="boolean"==typeof t.range&&t.range,Ne.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.tolerant&&t.tolerant&&(Ne.errors=[]);try{if(E(),Ae.type===ve.EOF)return Ne.tokens;for(A();Ae.type!==ve.EOF;)try{A()}catch(a){if(Ne.errors){Ne.errors.push(a);break}throw a}ge(),r=Ne.tokens,"undefined"!=typeof Ne.errors&&(r.errors=Ne.errors)}catch(i){throw i}finally{Ne={}}return r}function ye(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),ke=e,De=0,Ce=ke.length>0?1:0,Le=0,Oe=ke.length,Ae=null,Ee={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Ne={},"undefined"!=typeof t&&(Ne.range="boolean"==typeof t.range&&t.range,Ne.loc="boolean"==typeof t.loc&&t.loc,Ne.loc&&null!==t.source&&void 0!==t.source&&(Ne.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(Ne.tokens=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(Ne.errors=[]));try{n=me(),"undefined"!=typeof Ne.tokens&&(ge(),n.tokens=Ne.tokens),"undefined"!=typeof Ne.errors&&(n.errors=Ne.errors)}catch(a){throw a}finally{Ne={}}return n}var ve,xe,_e,we,Me,Se,ke,Te,De,Ce,Le,Oe,Ae,Ee,Ne;ve={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},xe={},xe[ve.BooleanLiteral]="Boolean",xe[ve.EOF]="<end>",xe[ve.Identifier]="Identifier",xe[ve.Keyword]="Keyword",xe[ve.NullLiteral]="Null",xe[ve.NumericLiteral]="Numeric",xe[ve.Punctuator]="Punctuator",xe[ve.StringLiteral]="String",xe[ve.RegularExpression]="RegularExpression",_e={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",UnaryExpression:"UnaryExpression"},we={Data:1,Get:2,Set:4},Me={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},Se={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},Y.prototype=j.prototype={finish:function(){Ne.range&&(this.range[1]=De),Ne.loc&&(this.loc.end=new N,Ne.source&&(this.loc.source=Ne.source))},finishArrayExpression:function(e){return this.type=_e.ArrayExpression,this.elements=e,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=_e.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBinaryExpression:function(e,t,n){return this.type="||"===e||"&&"===e?_e.LogicalExpression:_e.BinaryExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishCallExpression:function(e,t){return this.type=_e.CallExpression,this.callee=e,this.arguments=t,this.finish(),this},finishConditionalExpression:function(e,t,n){return this.type=_e.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishExpressionStatement:function(e){return this.type=_e.ExpressionStatement,this.expression=e,this.finish(),this},finishIdentifier:function(e){return this.type=_e.Identifier,this.name=e,this.finish(),this},finishLiteral:function(e){return this.type=_e.Literal,this.value=e.value,this.raw=ke.slice(e.start,e.end),e.regex&&("//"==this.raw&&(this.raw="/(?:)/"),this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=_e.MemberExpression,this.computed="["===e,this.object=t,this.property=n,this.finish(),this},finishObjectExpression:function(e){return this.type=_e.ObjectExpression,this.properties=e,this.finish(),this},finishProgram:function(e){return this.type=_e.Program,this.body=e,this.finish(),this},finishProperty:function(e,t,n){return this.type=_e.Property,this.key=t,this.value=n,this.kind=e,this.finish(),this},finishUnaryExpression:function(e,t){return this.type=_e.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this}};var Re={"if":1,"this":1};return{tokenize:be,parse:ye}}()},{}],49:[function(e,t,n){var r=e("vega-expression"),a=["datum","event","signals"];t.exports=r.compiler(a,{idWhiteList:a,fieldVar:a[0],globalVar:a[2],functions:function(e){var t=r.functions(e);return t.eventItem=function(){return"event.vg.item"},t.eventGroup="event.vg.getGroup",t.eventX="event.vg.getX",t.eventY="event.vg.getY",t.open="window.open",t}})},{"vega-expression":47}],50:[function(e,t,n){function r(e){return l.prototype.init.call(this,e),l.addParameters(this,{groupby:{type:"array<field>"},summarize:{type:"custom",set:function(e){function t(e){e.signal&&(f[e.signal]=1)}var n,r,a,o,s,u,f={},l=this._transform;if(!i.isArray(o=e)){o=[];for(s in e)u=i.array(e[s]),o.push({field:s,ops:u})}for(n=0,r=o.length;r>n;++n)a=o[n],a.field.signal&&(f[a.field.signal]=1),i.array(a.ops).forEach(t),i.array(a.as).forEach(t);return l._fields=o,l._aggr=null,l.dependency(c.SIGNALS,i.keys(f)),l}}}),this._aggr=null,this._input=null,this._args=null,this._fields=[],this._out=[],this._type=p.TUPLE,this._acc={groupby:i["true"],value:i["true"]},this.router(!0).produces(!0)}function a(e){var t,n,r,a,i,o,s,u=[];for(i=e._dims,t=0,n=i.length;n>t;++t)u.push(i[t].name);for(o=e._aggr,t=0,n=o.length;n>t;++t)for(s=o[t].measures.fields,r=0,a=s.length;a>r;++r)u.push(s[r]);return u}var i=e("datalib"),o=e("vega-dataflow"),s=e("vega-logging"),u=o.ChangeSet,f=o.Tuple,c=o.Dependencies,l=e("./Transform"),d=e("./Facetor"),h=r.prototype=Object.create(l.prototype);h.constructor=r;var p=r.TYPES={VALUE:1,TUPLE:2,MULTI:3};r.VALID_OPS=["values","count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","median","q1","q3","modeskew","min","max","argmin","argmax"],h.type=function(e){return this._type=e,this},h.accessors=function(e,t){var n=this._acc;n.groupby=i.$(e)||i["true"],n.value=i.$(t)||i["true"]},h.aggr=function(){if(this._aggr)return this._aggr;var e=this._graph,t=!1,n=[],r=this.param("groupby").field,o=function(t){return t.signal?e.signalRef(t.signal):t},s=this._fields.map(function(e){var r={name:o(e.field),as:i.array(e.as),ops:i.array(o(e.ops)).map(o),get:e.get};return t=t||null!=r.get,n.push(r.name),r});r.forEach(function(e){e.get&&(t=!0),n.push(e.name||e)}),this._args=t||!s.length?null:n,s.length||(s={"*":"values"});var u=this._aggr=(new d).groupby(r).stream(!0).summarize(s);return this._out=a(u),this._type!==p.VALUE&&u.key("_id"),u},h.transform=function(e,t){s.debug(e,["aggregate"]);var n,r,a,i,o=u.create(e),c=this.aggr(),l=this._out,d=this._args,h=!0,m=f.prev;if(t&&(o.rem.push.apply(o.rem,c.result()),c.clear(),this._aggr=null,c=this.aggr()),this._type===p.TUPLE)n=function(e){c._add(e),f.prev_init(e)},r=function(e){c._rem(m(e))},a=function(e){c._mod(e,m(e))};else{var g=this._acc.groupby,b=this._acc.value,y=this._type===p.VALUE?b:function(e){return{_id:e._id,groupby:g(e),value:b(e)}};n=function(e){c._add(y(e)),f.prev_init(e)},r=function(e){c._rem(y(m(e)))},a=function(e){c._mod(y(e),y(m(e)))}}if(e.add.forEach(n),t)e.mod.forEach(n);else{if(e.rem.forEach(r),d)for(i=0,h=!1;i<d.length;++i)if(e.fields[d[i]]){h=!0;break}h&&e.mod.forEach(a)}for(i=0;i<l.length;++i)o.fields[l[i]]=1;return c._input=e,c.changes(o)},t.exports=r},{"./Facetor":51,"./Transform":53,datalib:27,"vega-dataflow":43,"vega-logging":33}],51:[function(e,t,n){function r(){o.call(this),this._facet=null,this._facetID=++l}function a(e){c.debug({},["disconnecting cell",this.tuple._id]);var t=this.ds.pipeline();e.removeListener(t[0]),e._graph.removeListener(t[0]),e._graph.disconnect(t)}var i=e("datalib"),o=i.Aggregator,s=o.prototype,u=e("vega-dataflow"),f=u.Tuple,c=e("vega-logging"),l=0,d=r.prototype=Object.create(s);d.constructor=r,d.facet=function(e){return arguments.length?(this._facet=e,
this):this._facet},d._ingest=function(e){return f.ingest(e,null)},d._assign=f.set,d._newcell=function(e,t){var n=s._newcell.call(this,e,t),r=this._facet;if(r){var i=r._graph,o=n.tuple,u=r.param("transform");n.ds=i.data(o._facetID,u,o),n.disconnect=a,r.addListener(u[0])}return n},d._newtuple=function(e,t){var n=s._newtuple.call(this,e);return this._facet&&(f.set(n,"key",t),f.set(n,"_facetID",this._facetID+"_"+t)),n},d.clear=function(){if(this._facet)for(var e in this._cells)this._cells[e].disconnect(this._facet);return s.clear.call(this)},d._on_add=function(e,t){this._facet&&t.ds._input.add.push(e)},d._on_rem=function(e,t){this._facet&&t.ds._input.rem.push(e)},d._on_mod=function(e,t,n,r){this._facet&&(n===r?n.ds._input.mod.push(e):(n.ds._input.rem.push(e),r.ds._input.add.push(e)))},d._on_drop=function(e){this._facet&&e.disconnect(this._facet)},d._on_keep=function(e){this._facet&&u.ChangeSet.copy(this._input,e.ds._input)},t.exports=r},{datalib:27,"vega-dataflow":43,"vega-logging":33}],52:[function(e,t,n){function r(e,t,n){this._name=e,this._type=t,this._transform=n,this._value=[],this._accessors=[],this._resolution=!1,this._signals={}}function a(){var e=u.test(this._type),t=f.test(this._type),n=c.test(this._type),r=e?this._value:this._value[0],a=e?this._accessors:this._accessors[0];return!i.isValid(a)&&d.test(this._type)?r:t?{name:r,source:a}:n?{field:r,accessor:a}:r}var i=e("datalib"),o=e("vega-dataflow").Dependencies,s=e("../parse/expr"),u=/array/i,f=/data/i,c=/field/i,l=/expr/i,d=/value/i,h=r.prototype;h.get=function(){var e,t,n,r=this._transform._graph,o=f.test(this._type),s=c.test(this._type);if(!this._resolution)return a.call(this);if(o)return this._accessors=this._value.map(function(e){return r.data(e)}),a.call(this);for(e in this._signals)t=this._signals[e],n=r.signalRef(e),s&&(this._accessors[t]=this._value[t]!=n?i.accessor(n):this._accessors[t]),this._value[t]=n;return a.call(this)},h.set=function(e){var t=this,n=l.test(this._type),r=f.test(this._type),a=c.test(this._type);return this._value=i.array(e).map(function(e,u){if(i.isString(e)){if(n){var f=s(e);return t._transform.dependency(o.FIELDS,f.fields),t._transform.dependency(o.SIGNALS,f.globals),f.fn}return a?(t._accessors[u]=i.accessor(e),t._transform.dependency(o.FIELDS,i.field(e))):r&&(t._resolution=!0,t._transform.dependency(o.DATA,e)),e}return void 0!==e.value?e.value:void 0!==e.field?(t._accessors[u]=i.accessor(e.field),t._transform.dependency(o.FIELDS,i.field(e.field)),e.field):void 0!==e.signal?(t._resolution=!0,t._signals[e.signal]=u,t._transform.dependency(o.SIGNALS,e.signal),e.signal):e}),t._transform},t.exports=r},{"../parse/expr":49,datalib:27,"vega-dataflow":43}],53:[function(e,t,n){function r(e){e&&i.init.call(this,e)}var a=e("vega-dataflow"),i=a.Node.prototype,o=a.Dependencies,s=e("./Parameter");r.addParameters=function(e,t){e._parameters=e._parameters||{};for(var n in t){var r=t[n],a=new s(n,r.type,e);e._parameters[n]=a,"custom"===r.type&&(r.set&&(a.set=r.set.bind(a)),r.get&&(a.get=r.get.bind(a))),r.hasOwnProperty("default")&&a.set(r["default"])}};var u=r.prototype=Object.create(i);u.constructor=r,u.param=function(e,t){var n=this._parameters[e];return void 0===n?this:1===arguments.length?n.get():n.set(t)},u.transform=function(e){return e},u.evaluate=function(e){var t=this._stamp<e.stamp&&this.dependency(o.SIGNALS).reduce(function(t,n){return t+=e.signals[n]?1:0},0);return this.transform(e,t)},u.output=function(e){for(var t in this._output)void 0!==e[t]&&(this._output[t]=e[t]);return this},t.exports=r},{"./Parameter":52,"vega-dataflow":43}],54:[function(e,t,n){"use strict";e("./globals");var r=e("./consts"),a=e("./util"),i=e("./encdef"),o=e("./enc"),s=e("./schema/schema");t.exports=function(){function e(e,t){var n=s.instantiate(),r=s.util.merge(n,t||{},e);this._data=r.data,this._marktype=r.marktype,this._enc=r.encoding,this._config=r.config}var t=e.prototype;return e.fromShorthand=function(t,n,a,i){var s=r.shorthand,u=t.split(s.delim),f=u.shift().split(s.assign)[1].trim(),c=o.fromShorthand(u);return new e({data:n,marktype:f,encoding:c,config:a},i)},e.fromSpec=function(t,n){return new e(t,n)},t.toShorthand=function(){var e=r.shorthand;return"mark"+e.assign+this._marktype+e.delim+o.shorthand(this._enc)},e.shorthand=function(e){var t=r.shorthand;return"mark"+t.assign+e.marktype+t.delim+o.shorthand(e.encoding)},e.specFromShorthand=function(t,n,r,a){return e.fromShorthand(t,n,r).toSpec(a)},t.toSpec=function(e,t){var n,r=a.duplicate(this._enc);n={marktype:this._marktype,encoding:r},e||(n.config=a.duplicate(this._config)),t||(n.data=a.duplicate(this._data));var i=s.instantiate();return s.util.subtract(n,i)},t.marktype=function(){return this._marktype},t.is=function(e){return this._marktype===e},t.has=function(e){return void 0!==this._enc[e].name},t.encDef=function(e){return this._enc[e]},t.fieldRef=function(e,t){return t=t||{},i.fieldRef(this._enc[e],t)},t.fields=function(){return o.fields(this._enc)},t.fieldTitle=function(e){if(i.isCount(this._enc[e]))return i.count.displayName;var t=this._enc[e].aggregate||this._enc[e].timeUnit||this._enc[e].bin&&"bin";return t?t.toUpperCase()+"("+this._enc[e].name+")":this._enc[e].name},t.scale=function(e){return this._enc[e].scale||{}},t.axis=function(e){return this._enc[e].axis||{}},t.bandSize=function(e,t){return t=t||e===Y&&this.has(ROW)&&this.has(Y)||e===X&&this.has(COL)&&this.has(X),this.encDef(e).band.size||this.config(t?"smallBandSize":"largeBandSize")},t.bin=function(e){var t=this._enc[e].bin;return t==={}?!1:t===!0?{maxbins:s.MAXBINS_DEFAULT}:t},t.value=function(e){return this._enc[e].value},t.numberFormat=function(e){var t=e.max>this.config("maxSmallNumber")?"largeNumberFormat":"smallNumberFormat";return this.config(t)},t.sort=function(t,n){var r=this._enc[t].sort,a=this._enc,o=i.isTypes;if((!r||0===r.length)&&e.toggleSort.support({encoding:this._enc},n,!0)&&this.config("toggleSort")===Q){var s=o(a.x,[N,O])?a.y:a.x;o(a[t],[N,O])&&(r=[{name:s.name,aggregate:s.aggregate,type:s.type,reverse:!0}])}return r},t.map=function(e){return o.map(this._enc,e)},t.reduce=function(e,t){return o.reduce(this._enc,e,t)},t.forEach=function(e){return o.forEach(this._enc,e)},t.type=function(e){return this.has(e)?this._enc[e].type:null},t.isType=function(e,t){var n=this.encDef(e);return n&&i.isType(n,t)},t.isTypes=function(e,t){var n=this.encDef(e);return n&&i.isTypes(n,t)},e.isOrdinalScale=function(e,t){return i.isOrdinalScale(e.encDef(t))},e.isDimension=function(e,t){return i.isDimension(e.encDef(t))},e.isMeasure=function(e,t){return i.isMeasure(e.encDef(t))},t.isOrdinalScale=function(t){return this.has(t)&&e.isOrdinalScale(this,t)},t.isDimension=function(t){return this.has(t)&&e.isDimension(this,t)},t.isMeasure=function(t){return this.has(t)&&e.isMeasure(this,t)},t.isAggregate=function(){return o.isAggregate(this._enc)},t.dataTable=function(){return this.isAggregate()?AGGREGATE:RAW},e.isAggregate=function(e){return o.isAggregate(e.encoding)},e.alwaysNoOcclusion=function(e){return o.isAggregate(e.encoding)},e.isStack=function(e){return("bar"===e.marktype||"area"===e.marktype)&&e.encoding.color},t.stack=function(){var e=this.has(COLOR)&&this.encDef(COLOR).stack?COLOR:this.has(DETAIL)&&this.encDef(DETAIL).stack?DETAIL:null,t=e&&this.encDef(e).stack!==!0?this.encDef(e).stack:{};if((this.is("bar")||this.is("area"))&&e&&this.isAggregate()){var n=this.isMeasure(X),r=this.isMeasure(Y);if(n&&!r)return{groupby:Y,value:X,stack:e,properties:t};if(r&&!n)return{groupby:X,value:Y,stack:e,properties:t}}return null},t.details=function(){var e=this;return this.reduce(function(t,n,r){return n.aggregate||r===X||r===Y||t.push(e.fieldRef(r)),t},[])},t.facets=function(){var e=this;return this.reduce(function(t,n,r){return n.aggregate||r!=ROW&&r!=COL||t.push(e.fieldRef(r)),t},[])},t.cardinality=function(e,t){return i.cardinality(this.encDef(e),t,this.config("filterNull"))},t.isRaw=function(){return!this.isAggregate()},t.data=function(){return this._data},t.hasValues=function(){var e=this.data().values;return e&&e.length},t.config=function(e){return this._config[e]},e.transpose=function(e){var t=e.encoding,n=a.duplicate(e.encoding);return n.x=t.y,n.y=t.x,n.row=t.col,n.col=t.row,e.encoding=n,e},e}()},{"./consts":67,"./enc":69,"./encdef":70,"./globals":71,"./schema/schema":73,"./util":75}],55:[function(e,t,n){"use strict";e("../globals");var r=e("../util"),a=r.setter,i=r.getter,o=e("./time"),s=t.exports={};s.def=function(e,t,n,r,a){var o=e==COL,u=e==ROW,f=o?"x":u?"y":e,c={type:f,scale:e,properties:{},layer:t.encDef(e).axis.layer},l=s.orient(t,e,r);return l&&(c.orient=l),c=s.labels.scale(c,t,e),c=s.labels.format(c,t,e,r),c=s.labels.angle(c,t,e),e==X&&(!t.isDimension(X)&&!t.isType(X,T)||"angle"in i(c,["properties","labels"])?c.ticks=t.encDef(e).axis.ticks:c=s.labels.rotate(c)),c.titleOffset=s.titleOffset(t,n,e),u&&(c.offset=s.titleOffset(t,n,Y)+20),c=s.grid(c,t,e,n),c=s.title(c,t,e,n,a),(u||o)&&(c=s.hideTicks(c)),c},s.orient=function(e,t,n){var r=e.encDef(t).axis.orient;return r?r:t===COL?"top":t===X&&e.has(Y)&&e.isOrdinalScale(Y)&&e.cardinality(Y,n)>30?"top":void 0},s.grid=function(e,t,n,r){var a=r.cellPadding,i=n==COL,o=n==ROW,s=t.axis(n).grid,u=void 0===s?n===ROW||n===COL||t.isTypes(n,[Q,T])&&!t.encDef(n).bin:s;if(u)if(e.grid=!0,i){var f=t.config("cellGridOffset");e.properties.grid={x:{offset:r.cellWidth*(1+a/2),scale:"col",field:"data"},y:{value:-f},y2:{field:{group:"mark.group.height"},offset:f},stroke:{value:t.config("cellGridColor")},strokeOpacity:{value:t.config("cellGridOpacity")}}}else if(o){var c=t.config("cellGridOffset");e.properties.grid={y:{offset:-r.cellHeight*(a/2),scale:"row",field:"data"},x:{value:e.offset-c},x2:{field:{group:"mark.group.width"},offset:e.offset+c,mult:1},stroke:{value:t.config("cellGridColor")},strokeOpacity:{value:t.config("cellGridOpacity")}}}else e.properties.grid={stroke:{value:t.config("gridColor")},strokeOpacity:{value:t.config("gridOpacity")}};return e},s.hideTicks=function(e){return e.properties.ticks={opacity:{value:0}},e.properties.majorTicks={opacity:{value:0}},e.properties.axis={opacity:{value:0}},e},s.title=function(e,t,n,a){var i=t.encDef(n).axis;if(i.title)e.title=i.title;else{var o,s=t.fieldTitle(n);i.titleMaxLength?o=i.titleMaxLength:n===X?o=a.cellWidth/t.config("characterWidth"):n===Y&&(o=a.cellHeight/t.config("characterWidth")),e.title=o?r.truncate(s,o):s}return n===ROW&&(e.properties.title={angle:{value:0},align:{value:"right"},baseline:{value:"middle"},dy:{value:-a.height/2-20}}),e},s.labels={},s.labels.scale=function(e,t,n){var r=t.encDef(n).timeUnit;return t.isType(n,T)&&r&&o.hasScale(r)&&a(e,["properties","labels","text","scale"],"time-"+r),e},s.labels.format=function(e,t,n,r){var i=r[t.encDef(n).name];if(t.axis(n).format)e.format=t.axis(n).format;else if(t.isType(n,Q)||"number"===i.type)e.format=t.numberFormat(i);else if(t.isType(n,T)){var o=t.encDef(n).timeUnit;o?"year"===o&&(e.format="d"):e.format=t.config("timeFormat")}else t.isTypes(n,[N,O])&&t.axis(n).maxLabelLength&&a(e,["properties","labels","text","template"],"{{ datum.data | truncate:"+t.axis(n).maxLabelLength+"}}");return e},s.labels.angle=function(e,t,n){var r=t.axis(n).labelAngle;return"undefined"==typeof r?e:(a(e,["properties","labels","angle","value"],r),e)},s.labels.rotate=function(e){var t="top"===e.orient?"left":"right";return a(e,["properties","labels","angle","value"],270),a(e,["properties","labels","align","value"],t),a(e,["properties","labels","baseline","value"],"middle"),e},s.titleOffset=function(e,t,n){var r=e.axis(n).titleOffset;if(r)return r;switch(n){case ROW:return 0;case COL:return 35}return i(t,[n,"axisTitleOffset"])}},{"../globals":71,"../util":75,"./time":66}],56:[function(e,t,n){"use strict";var r=t.exports=e("datalib/src/stats").summary;e("../globals");var a=t.exports={},i=e("../Encoding"),o=a.axis=e("./axis"),s=a.legend=e("./legend"),u=a.marks=e("./marks"),f=a.scale=e("./scale");a.data=e("./data"),a.facet=e("./facet"),a.layout=e("./layout"),a.stack=e("./stack"),a.style=e("./style"),a.subfacet=e("./subfacet"),a.time=e("./time"),a.compile=function(e,t,n){return a.compileEncoding(i.fromSpec(e,n),t)},a.shorthand=function(e,t,n,r){return a.compileEncoding(i.fromShorthand(e,n,r),t)},a.compileEncoding=function(e,t){t||(e.hasValues()?t=r(e.data().values).reduce(function(e,t){return e[t.field]=t,e},{}):console.error("No stats provided and data is not embedded."));var n=a.layout(e,t),i={width:n.width,height:n.height,padding:"auto",data:a.data(e),scales:a.time.scales(e),marks:[{name:"cell",type:"group",properties:{enter:{width:n.cellWidth?{value:n.cellWidth}:{field:{group:"width"}},height:n.cellHeight?{value:n.cellHeight}:{field:{group:"height"}}}}}]},c=i.marks[0],l=a.style(e,t),d=c.marks=u.def(e,n,l,t),h=d[d.length-1],p=e.stack();p&&a.stack(e,h,p);var m=u[e.marktype()].line,g=e.details();if(g.length>0&&m&&a.subfacet(c,h,g),m&&e.config("autoSortLine")){var b=e.isMeasure(X)&&e.isDimension(Y)?Y:X;h.from||(h.from={}),h.from.transform=[{type:"sort",by:"-"+e.fieldRef(b)}]}var y=[].concat.apply([],d.map(function(e){return f.names(e.properties.update)}));return e.has(ROW)||e.has(COL)?(i=a.facet(c,e,n,i,y,t),i.legends=s.defs(e,l)):(c.scales=f.defs(y,e,n,t),c.axes=[],e.has(X)&&c.axes.push(o.def(X,e,n,t)),e.has(Y)&&c.axes.push(o.def(Y,e,n,t)),c.legends=s.defs(e,l)),i}},{"../Encoding":54,"../globals":71,"./axis":55,"./data":57,"./facet":58,"./layout":59,"./legend":60,"./marks":61,"./scale":62,"./stack":63,"./style":64,"./subfacet":65,"./time":66,"datalib/src/stats":29}],57:[function(e,t,n){"use strict";function r(e){var t=[r.raw(e)],n=r.aggregate(e);n&&t.push(r.aggregate(e)),r.filterNonPositive(t[t.length-1],e);var a=e.stack();return a&&t.push(r.stack(e,a)),t}e("../globals"),t.exports=r;var a=e("../encdef"),i=e("../util"),o=e("./time");r.raw=function(e){var t={name:RAW};e.hasValues()?(t.values=e.data().values,t.format={type:"json"}):(t.url=e.data().url,t.format={type:e.data().formatType});var n=r.raw.formatParse(e);return n&&(t.format.parse=n),t.transform=r.raw.transform(e),t},r.raw.formatParse=function(e){var t;return e.forEach(function(e){if(e.type==T)t=t||{},t[e.name]="date";else if(e.type==Q){if(a.isCount(e))return;t=t||{},t[e.name]="number"}}),t},r.raw.transform=function(e){return r.raw.transform.nullFilter(e).concat(r.raw.transform.formula(e),r.raw.transform.time(e),r.raw.transform.bin(e),r.raw.transform.filter(e))},r.raw.transform.time=function(e){return e.reduce(function(t,n,r){if(n.type===T&&n.timeUnit){var a=e.fieldRef(r,{nofn:!0,datum:!0});t.push({type:"formula",field:e.fieldRef(r),expr:o.formula(n.timeUnit,a)})}return t},[])},r.raw.transform.bin=function(e){return e.reduce(function(t,n,r){return e.bin(r)&&(t.push({type:"bin",field:n.name,output:{start:e.fieldRef(r,{bin_suffix:"_start"}),end:e.fieldRef(r,{bin_suffix:"_end"})},maxbins:e.bin(r).maxbins}),t.push({type:"formula",field:e.fieldRef(r,{bin_suffix:"_mid"}),expr:"("+e.fieldRef(r,{datum:1,bin_suffix:"_start"})+"+"+e.fieldRef(r,{datum:1,bin_suffix:"_end"})+")/2"})),t},[])},r.raw.transform.nullFilter=function(e){var t=i.reduce(e.fields(),function(t,n,r){return"*"===r?t:((e.config("filterNull").Q&&n.containsType[Q]||e.config("filterNull").T&&n.containsType[T]||e.config("filterNull").O&&n.containsType[O]||e.config("filterNull").N&&n.containsType[N])&&t.push(r),t)},[]);return t.length>0?[{type:"filter",test:t.map(function(e){return"datum."+e+"!==null"}).join(" && ")}]:[]},r.raw.transform.filter=function(e){var t=e.data().filter;return t?[{type:"filter",test:t}]:[]},r.raw.transform.formula=function(e){var t=e.data().formulas;return void 0===t?[]:t.reduce(function(e,t){return t.type="formula",e.push(t),e},[])},r.aggregate=function(e){var t={},n={},r=!1;e.forEach(function(a,i){a.aggregate?(r=!0,"count"===a.aggregate?(n["*"]=n["*"]||{},n["*"].count=!0):(n[a.name]=n[a.name]||{},n[a.name][a.aggregate]=!0)):a.bin?(t[e.fieldRef(i,{bin_suffix:"_start"})]=e.fieldRef(i,{bin_suffix:"_start"}),t[e.fieldRef(i,{bin_suffix:"_mid"})]=e.fieldRef(i,{bin_suffix:"_mid"}),t[e.fieldRef(i,{bin_suffix:"_end"})]=e.fieldRef(i,{bin_suffix:"_end"})):t[a.name]=e.fieldRef(i)});var a=i.vals(t),o=i.reduce(n,function(e,t,n){return e[n]=i.keys(t),e},{});return r?{name:AGGREGATE,source:RAW,transform:[{type:"aggregate",groupby:a,summarize:o}]}:null},r.stack=function(e,t){var n=t.groupby,r=t.value,a=e.facets(),i={name:STACKED,source:e.dataTable(),transform:[{type:"aggregate",groupby:[e.fieldRef(n)].concat(a),summarize:[{ops:["sum"],field:e.fieldRef(r)}]}]};return a&&a.length>0&&i.transform.push({type:"aggregate",groupby:a,summarize:[{ops:["max"],field:e.fieldRef(r,{prefn:"sum_"})}]}),i},r.filterNonPositive=function(e,t){t.forEach(function(n,r){"log"===t.scale(r).type&&e.transform.push({type:"filter",test:t.fieldRef(r,{datum:1})+" > 0"})})}},{"../encdef":70,"../globals":71,"../util":75,"./time":66}],58:[function(e,t,n){"use strict";function r(e,t){t=t||{};var n={name:e||void 0,type:"group",properties:{enter:{width:t.width||{field:{group:"width"}},height:t.height||{field:{group:"height"}}}}};return t.from&&(n.from=t.from),t.x&&(n.properties.enter.x=t.x),t.y&&(n.properties.enter.y=t.y),t.axes&&(n.axes=t.axes),n}function a(e,t,n,a,u,f){var c,l,d=e.properties.enter,h=[],p=[],m=t.has(ROW),g=t.has(COL);d.fill={value:t.config("cellBackgroundColor")},e.from={data:e.marks[0].from.data};for(var b=0;b<e.marks.length;b++){var y=e.marks[b];y.from.transform?delete y.from.data:delete y.from}m?(t.isDimension(ROW)||i.error("Row encoding should be ordinal."),d.y={scale:ROW,field:t.fieldRef(ROW)},d.height={value:n.cellHeight},h.push(t.fieldRef(ROW)),g&&(c=i.duplicate(e.from),c.transform=c.transform||[],c.transform.unshift({type:"facet",groupby:[t.fieldRef(COL)]})),l=r("x-axes",{axes:t.has(X)?[o.def(X,t,n,f)]:void 0,x:g?{scale:COL,field:t.fieldRef(COL)}:{value:0},width:g&&{value:n.cellWidth},from:c}),a.marks.unshift(l),a.axes=a.axes||[],a.axes.push(o.def(ROW,t,n,f))):t.has(X)&&p.push(o.def(X,t,n,f)),g?(t.isDimension(COL)||i.error("Col encoding should be ordinal."),d.x={scale:COL,field:t.fieldRef(COL)},d.width={value:n.cellWidth},h.push(t.fieldRef(COL)),m&&(c=i.duplicate(e.from),c.transform=c.transform||[],c.transform.unshift({type:"facet",groupby:[t.fieldRef(ROW)]})),l=r("y-axes",{axes:t.has(Y)?[o.def(Y,t,n,f)]:void 0,y:m&&{scale:ROW,field:t.fieldRef(ROW)},x:m&&{value:0},height:m&&{value:n.cellHeight},from:c}),a.marks.unshift(l),a.axes=a.axes||[],a.axes.push(o.def(COL,t,n,f))):t.has(Y)&&p.push(o.def(Y,t,n,f)),a.scales=(a.scales||[]).concat(s.defs(s.names(d).concat(u),t,n,f,!0)),p.length>0&&(e.axes=p);var v=e.from.transform||(e.from.transform=[]);return v.unshift({type:"facet",groupby:h}),a}e("../globals");var i=e("../util"),o=e("./axis"),s=e("./scale");t.exports=a},{"../globals":71,"../util":75,"./axis":55,"./scale":62}],59:[function(e,t,n){"use strict";function r(e,t){var n=a(e,t);return n=s(e,t,n)}function a(e,t){var n,r,a=e.has(ROW),i=e.has(COL),o=e.has(X),s=e.has(Y),u=e.marktype(),f=o&&e.isDimension(X)?e.cardinality(X,t):1,c=s&&e.isDimension(Y)?e.cardinality(Y,t):1,l=f>e.config("largeBandMaxCardinality")||c>e.config("largeBandMaxCardinality"),d=e.config("cellPadding");n=o?e.isOrdinalScale(X)?(f+e.encDef(X).band.padding)*e.bandSize(X,l):i||a?e.encDef(COL).width:e.config("singleWidth"):u===TEXT?e.config("textCellWidth"):e.bandSize(X),r=s?e.isOrdinalScale(Y)?(c+e.encDef(Y).band.padding)*e.bandSize(Y,l):i||a?e.encDef(ROW).height:e.config("singleHeight"):e.bandSize(Y);var h=n,p=r;if(i){var m=e.cardinality(COL,t);h=n*((1+d)*(m-1)+1)}if(a){var g=e.cardinality(ROW,t);p=r*((1+d)*(g-1)+1)}return{cellWidth:n,cellHeight:r,cellPadding:d,width:h,height:p,x:{useSmallBand:l},y:{useSmallBand:l}}}function i(e,t,n){var r=e.numberFormat(t,n);return l.format(r)(n.max).length}function o(e,t,n){var r=e.encDef(n),a=t[r.name];return r.bin?i(e,n,a):e.isType(n,Q)?i(e,n,a):e.isType(n,T)?c.maxLength(e.encDef(n).timeUnit,e):e.isTypes(n,[N,O])?"number"===a.type?i(e,n,a):Math.min(a.max,e.axis(n).maxLabelLength||1/0):void 0}function s(e,t,n){return[X,Y].forEach(function(r){var a,i=r===X?20:22;e.isDimension(r)||e.isType(r,T)?a=o(e,t,r):(e.isType(r,Q)||"count"===e.encDef(r).aggregate)&&r===Y&&(a=o(e,t,r)),a?f(n,[r,"axisTitleOffset"],e.config("characterWidth")*a+i):f(n,[r,"axisTitleOffset"],3*e.config("characterWidth")+i)}),n}e("../globals");var u=e("../util"),f=u.setter,c=e("./time"),l=e("d3-format");t.exports=r},{"../globals":71,"../util":75,"./time":66,"d3-format":5}],60:[function(e,t,n){"use strict";e("../globals");var r=e("./time"),a=e("../util"),i=a.setter,o=a.getter,s=t.exports={};s.defs=function(e,t){var n=[];return e.has(COLOR)&&e.encDef(COLOR).legend&&n.push(s.def(COLOR,e,{fill:COLOR},t)),e.has(SIZE)&&e.encDef(SIZE).legend&&n.push(s.def(SIZE,e,{size:SIZE},t)),e.has(SHAPE)&&e.encDef(SHAPE).legend&&n.push(s.def(SHAPE,e,{shape:SHAPE},t)),n},s.def=function(e,t,n,a){var o=t.encDef(e).timeUnit;return n.title=s.title(e,t),n.orient=t.encDef(e).legend.orient,n=s.style(e,t,n,a),t.isType(e,T)&&o&&r.hasScale(o)&&i(n,["properties","labels","text","scale"],"time-"+o),n},s.style=function(e,t,n,r){var a=o(n,["properties","symbols"]),i=t.marktype();switch(i){case"bar":case"tick":case"text":a.stroke={value:"transparent"},a.shape={value:"square"};break;case"circle":case"square":a.shape={value:i};case"point":t.encDef(SHAPE).filled?(t.has(COLOR)&&e===COLOR?a.fill={scale:COLOR,field:"data"}:a.fill={value:t.value(COLOR)},a.stroke={value:"transparent"}):(t.has(COLOR)&&e===COLOR?a.stroke={scale:COLOR,field:"data"}:a.stroke={value:t.value(COLOR)},a.fill={value:"transparent"},a.strokeWidth={value:t.config("strokeWidth")});break;case"line":case"area":}var s=t.encDef(COLOR).opacity||r.opacity;return s&&(a.opacity={value:s}),n},s.title=function(e,t){var n=t.encDef(e).legend;return n.title?n.title:t.fieldTitle(e)}},{"../globals":71,"../util":75,"./time":66}],61:[function(e,t,n){"use strict";function r(e,t,n){var r={};e.encDef(X).bin?(r.x={scale:X,field:e.fieldRef(X,{bin_suffix:"_start"}),offset:1},r.x2={scale:X,field:e.fieldRef(X,{bin_suffix:"_end"})}):e.isMeasure(X)?(r.x={scale:X,field:e.fieldRef(X)},(!e.has(Y)||e.isDimension(Y))&&(r.x2={value:0})):e.has(X)?r.xc={scale:X,field:e.fieldRef(X)}:r.x={value:0,offset:e.config("singleBarOffset")},r.x2||(!e.has(X)||e.isOrdinalScale(X)?e.has(SIZE)?r.width={scale:SIZE,field:e.fieldRef(SIZE)}:r.width={value:e.bandSize(X,t.x.useSmallBand),offset:-1}:r.width={value:2}),e.encDef(Y).bin?(r.y={scale:Y,field:e.fieldRef(Y,{bin_suffix:"_start"})},r.y2={scale:Y,field:e.fieldRef(Y,{bin_suffix:"_end"}),offset:1}):e.isMeasure(Y)?(r.y={scale:Y,field:e.fieldRef(Y)},r.y2={field:{group:"height"}}):(e.has(Y)?r.yc={scale:Y,field:e.fieldRef(Y)}:r.y2={field:{group:"height"},offset:-e.config("singleBarOffset")},e.has(SIZE)?r.height={scale:SIZE,field:e.fieldRef(SIZE)}:r.height={value:e.bandSize(Y,t.y.useSmallBand),offset:-1}),e.has(COLOR)?r.fill={scale:COLOR,field:e.fieldRef(COLOR)}:r.fill={value:e.value(COLOR)};var a=e.encDef(COLOR).opacity;return a&&(r.opacity={value:a}),r}function a(e,t,n){var r={};e.has(X)?r.x={scale:X,field:e.fieldRef(X,{bin_suffix:"_mid"})}:e.has(X)||(r.x={value:e.bandSize(X,t.x.useSmallBand)/2}),e.has(Y)?r.y={scale:Y,field:e.fieldRef(Y,{bin_suffix:"_mid"})}:e.has(Y)||(r.y={value:e.bandSize(Y,t.y.useSmallBand)/2}),e.has(SIZE)?r.size={scale:SIZE,field:e.fieldRef(SIZE)}:e.has(SIZE)||(r.size={value:e.value(SIZE)}),e.has(SHAPE)?r.shape={scale:SHAPE,field:e.fieldRef(SHAPE)}:e.has(SHAPE)||(r.shape={value:e.value(SHAPE)}),e.encDef(SHAPE).filled?e.has(COLOR)?r.fill={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.fill={value:e.value(COLOR)}):(e.has(COLOR)?r.stroke={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.stroke={value:e.value(COLOR)}),r.strokeWidth={value:e.config("strokeWidth")});var a=e.encDef(COLOR).opacity||n.opacity;return a&&(r.opacity={value:a}),r}function i(e,t,n){var r={};e.has(X)?r.x={scale:X,field:e.fieldRef(X,{bin_suffix:"_mid"})}:e.has(X)||(r.x={value:0}),e.has(Y)?r.y={scale:Y,field:e.fieldRef(Y,{bin_suffix:"_mid"})}:e.has(Y)||(r.y={field:{group:"height"}}),e.has(COLOR)?r.stroke={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.stroke={value:e.value(COLOR)});var a=e.encDef(COLOR).opacity;return a&&(r.opacity={value:a}),r.strokeWidth={value:e.config("strokeWidth")},r}function o(e,t,n){var r={};e.isMeasure(X)?(r.x={scale:X,field:e.fieldRef(X)},e.isDimension(Y)&&(r.x2={scale:X,value:0},r.orient={value:"horizontal"})):e.has(X)?r.x={scale:X,field:e.fieldRef(X,{bin_suffix:"_mid"})}:r.x={value:0},e.isMeasure(Y)?(r.y={scale:Y,field:e.fieldRef(Y)},r.y2={scale:Y,value:0}):e.has(Y)?r.y={scale:Y,field:e.fieldRef(Y,{bin_suffix:"_mid"})}:r.y={field:{group:"height"}},e.has(COLOR)?r.fill={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.fill={value:e.value(COLOR)});var a=e.encDef(COLOR).opacity;return a&&(r.opacity={value:a}),r}function s(e,t,n){var r={};e.has(X)?(r.x={scale:X,field:e.fieldRef(X,{bin_suffix:"_mid"})},e.isDimension(X)&&(r.x.offset=-e.bandSize(X,t.x.useSmallBand)/3)):e.has(X)||(r.x={value:0}),e.has(Y)?(r.y={scale:Y,field:e.fieldRef(Y,{bin_suffix:"_mid"})},e.isDimension(Y)&&(r.y.offset=-e.bandSize(Y,t.y.useSmallBand)/3)):e.has(Y)||(r.y={value:0}),!e.has(X)||e.isDimension(X)?r.width={value:e.bandSize(X,t.y.useSmallBand)/1.5}:r.width={value:1},!e.has(Y)||e.isDimension(Y)?r.height={value:e.bandSize(Y,t.y.useSmallBand)/1.5}:r.height={value:1},e.has(COLOR)?r.fill={scale:COLOR,field:e.fieldRef(COLOR)}:r.fill={value:e.value(COLOR)};var a=e.encDef(COLOR).opacity||n.opacity;return a&&(r.opacity={value:a}),r}function u(e){return function(t,n,r){var a={};t.has(X)?a.x={scale:X,field:t.fieldRef(X,{bin_suffix:"_mid"})}:t.has(X)||(a.x={value:t.bandSize(X,n.x.useSmallBand)/2}),t.has(Y)?a.y={scale:Y,field:t.fieldRef(Y,{bin_suffix:"_mid"})}:t.has(Y)||(a.y={value:t.bandSize(Y,n.y.useSmallBand)/2}),t.has(SIZE)?a.size={scale:SIZE,field:t.fieldRef(SIZE)}:t.has(X)||(a.size={value:t.value(SIZE)}),a.shape={value:e},t.has(COLOR)?a.fill={scale:COLOR,field:t.fieldRef(COLOR)}:t.has(COLOR)||(a.fill={value:t.value(COLOR)});var i=t.encDef(COLOR).opacity||r.opacity;return i&&(a.opacity={value:i}),a}}function f(e,t,n,r){var a={},i=e.encDef(TEXT);e.has(X)?a.x={scale:X,field:e.fieldRef(X,{bin_suffix:"_mid"})}:e.has(X)||(e.has(TEXT)&&e.isType(TEXT,Q)?a.x={value:t.cellWidth-5}:a.x={value:e.bandSize(X,t.x.useSmallBand)/2}),e.has(Y)?a.y={scale:Y,field:e.fieldRef(Y,{bin_suffix:"_mid"})}:e.has(Y)||(a.y={value:e.bandSize(Y,t.y.useSmallBand)/2}),e.has(SIZE)?a.fontSize={scale:SIZE,field:e.fieldRef(SIZE)}:e.has(SIZE)||(a.fontSize={value:i.font.size}),a.fill={value:i.color};var o=e.encDef(COLOR).opacity||n.opacity;if(o&&(a.opacity={value:o}),e.has(TEXT))if(e.isType(TEXT,Q)){var s=r[e.encDef(TEXT).name],u=i.format||e.numberFormat(s);a.text={template:"{{"+e.fieldRef(TEXT,{datum:!0})+" | number:'"+u+"'}}"},a.align={value:i.align}}else a.text={field:e.fieldRef(TEXT)};else a.text={value:i.placeholder};return a.font={value:i.font.family},a.fontWeight={value:i.font.weight},a.fontStyle={value:i.font.style},a.baseline={value:i.baseline},a}e("../globals");var c=t.exports={};c.def=function(e,t,n,r){var a=[],i=c[e.marktype()],o=e.dataTable();if(e.marktype()===TEXT&&e.has(COLOR)){var s={x:{value:0},y:{value:0},x2:{value:t.cellWidth},y2:{value:t.cellHeight},fill:{scale:COLOR,field:e.fieldRef(COLOR)}};a.push({type:"rect",from:{data:o},properties:{enter:s,update:s}})}var u=i.prop(e,t,n,r);return a.push({type:i.type,from:{data:o},properties:{enter:u,update:u}}),a},c.bar={type:"rect",prop:r,supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1}},c.line={type:"line",line:!0,prop:i,requiredEncoding:["x","y"],supportedEncoding:{row:1,col:1,x:1,y:1,color:1,detail:1}},c.area={type:"area",line:!0,requiredEncoding:["x","y"],prop:o,supportedEncoding:{row:1,col:1,x:1,y:1,color:1}},c.tick={type:"rect",prop:s,supportedEncoding:{row:1,col:1,x:1,y:1,color:1,detail:1}},c.circle={type:"symbol",prop:u("circle"),supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,detail:1}},c.square={type:"symbol",prop:u("square"),supportedEncoding:c.circle.supportedEncoding},c.point={type:"symbol",prop:a,supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,shape:1,detail:1}},c.text={type:"text",prop:f,requiredEncoding:["text"],supportedEncoding:{row:1,col:1,size:1,color:1,text:1}}},{"../globals":71}],62:[function(e,t,n){"use strict";e("../globals");var r=e("../util"),a=e("./time"),i=e("colorbrewer"),o=e("d3-color").interpolateHsl,s=t.exports={};s.names=function(e){return r.keys(r.keys(e).reduce(function(t,n){return e[n]&&e[n].scale&&(t[e[n].scale]=1),t},{}))},s.defs=function(e,t,n,r,a){return e.reduce(function(e,i){var o={};o.name=i,o.type=s.type(i,t),o.domain=s.domain(t,i,o.type,a);var u=s.reverse(t,i);u&&(o.reverse=u);var f=s.zero(t,i);return void 0!==f&&(o.zero=f),o=s.range(o,t,n,r),e.push(o),e},[])},s.type=function(e,t){switch(t.type(e)){case N:case O:return"ordinal";case T:var n=t.encDef(e).timeUnit;return n?a.scale.type(n,e):"time";case Q:return t.bin(e)?"linear":t.scale(e).type}},s.domain=function(e,t,n,r){var i=e.encDef(t);if(e.isType(t,T)){var o=a.scale.domain(i.timeUnit,t);if(o)return o}var u=e.stack();if(u&&t===u.value)return{data:STACKED,field:e.fieldRef(t,{prefn:(r?"max_":"")+"sum_"})};var f=s._useRawDomain(e,t),c=s.sort(e,t,n);return f?{data:RAW,field:e.fieldRef(t,{noAggregate:!0})}:i.bin?{data:e.dataTable(),field:[e.fieldRef(t,{bin_suffix:"_start"}),e.fieldRef(t,{bin_suffix:"_end"})]}:c?{data:c.op?RAW:e.dataTable(),field:e.fieldRef(t),sort:c}:{data:e.dataTable(),field:e.fieldRef(t)}},s.sort=function(e,t,n){var a=e.encDef(t).sort;return"ascending"===a||"descending"===a?!0:"ordinal"===n&&r.isObject(a)?{op:a.op,field:a.field}:void 0},s.reverse=function(e,t){var n=e.encDef(t).sort;return n&&("descending"===n||"descending"===n.order)},s._useRawDomain=function(e,t){var n=e.encDef(t),r=e.scale(t).useRawDomain,i=void 0!==r?r:e.config("useRawDomain"),o=!n.aggregate||"count"!==n.aggregate&&"sum"!==n.aggregate;return i&&o&&(e.isType(t,Q)&&!n.bin||e.isType(t,T)&&(!n.timeUnit||!a.isOrdinalFn(n.timeUnit)))},s.zero=function(e,t){var n=e.scale(t),r=e.encDef(t),a=r.timeUnit;return n.zero?n.zero:!e.isType(t,T)||a&&"year"!==a?r.bin?!1:t===X||t===Y||t===SIZE:!1},s.range=function(e,t,n,r){var a=t.encDef(e.name),i=a.timeUnit;switch(e.name){case X:e.range=n.cellWidth?[0,n.cellWidth]:"width","ordinal"===e.type&&(e.bandWidth=t.bandSize(X,n.x.useSmallBand)),e.round=!0,"time"===e.type?e.nice=i||t.config("timeScaleNice"):e.nice=!0;break;case Y:"ordinal"===e.type?(e.range=n.cellHeight?a.bin?[n.cellHeight,0]:[0,n.cellHeight]:"height",e.bandWidth=t.bandSize(Y,n.y.useSmallBand)):e.range=n.cellHeight?[n.cellHeight,0]:"height",e.round=!0,"time"===e.type?e.nice=i||t.config("timeScaleNice"):e.nice=!0;break;case ROW:e.bandWidth=n.cellHeight,e.round=!0,e.nice=!0;break;case COL:e.bandWidth=n.cellWidth,e.round=!0,e.nice=!0;break;case SIZE:if(t.is("bar"))e.range=[3,Math.max(t.bandSize(X),t.bandSize(Y))];else if(t.is(TEXT))e.range=[8,40];else{var o=Math.min(t.bandSize(X),t.bandSize(Y))-1;e.range=[10,.8*o*o]}e.round=!0;break;case SHAPE:e.range="shapes";break;case COLOR:e.range=s.color(e,t,r);break;default:throw new Error("Unknown encoding name: "+e.name)}switch(e.name){case ROW:case COL:e.padding=t.config("cellPadding"),e.outerPadding=0;break;case X:case Y:"ordinal"===e.type&&(e.points=!0,e.padding=t.encDef(e.name).band.padding)}return e},s.color=function(e,t,n){var r=t.scale(COLOR),a=r.range,i=t.cardinality(COLOR,n),o=t.type(COLOR);if(void 0===a){var u=r.ordinalPalette,f=r.quantitativeRange;return"ordinal"===e.type?o===N?(a=10>=i?r.c10palette:r.c20palette,s.color.palette(a,i,o)):u?s.color.palette(u,i,o):s.color.interpolate(f[0],f[1],i):[f[0],f[1]]}},s.color.palette=function(e,t,n){switch(e){case"category10k":return["#2ca02c","#e377c2","#7f7f7f","#17becf","#8c564b","#d62728","#bcbd22","#9467bd","#ff7f0e","#1f77b4"];case"category10":return["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];case"category20":return["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];
case"category20b":return["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];case"category20c":return["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]}if(e in i){var a=i[e];if(t in a)return a[t];if(n===N)return a[Math.max.apply(null,r.keys(a))];var o=3>t?3:Math.max.apply(null,r.keys(a)),u=0,f=o-1;return s.color.interpolate(a[o][u],a[o][f],t)}return e},s.color.interpolate=function(e,t,n){var a=o(e,t);return r.range(n).map(function(e){return a(1*e/(n-1))})}},{"../globals":71,"../util":75,"./time":66,colorbrewer:3,"d3-color":4}],63:[function(e,t,n){"use strict";function r(e,t,n){var r=n.groupby,a=n.value,i=e.fieldRef(a),o=i+"_start",s=i+"_end",u=[];"area"===e.marktype()&&u.push({type:"impute",field:e.fieldRef(a),groupby:[e.fieldRef(n.stack)],orderby:[e.fieldRef(r)],method:"value",value:0});var f={type:"stack",groupby:[e.fieldRef(r)],field:e.fieldRef(a),sortby:[(n.properties.reverse?"-":"")+e.fieldRef(n.stack)],output:{start:o,end:s}};return n.properties.offset&&(f.offset=n.properties.offset),u.push(f),t.from.transform=u,t.properties.update[a]=t.properties.enter[a]={scale:a,field:o},t.properties.update[a+"2"]=t.properties.enter[a+"2"]={scale:a,field:s},a}e("../globals"),t.exports=r},{"../globals":71}],64:[function(e,t,n){"use strict";function r(e,t){if(!t)return 1;var n=0;if(e.isAggregate())n=1,e.forEach(function(r,i){i===ROW||i===COL||(i===X||i===Y)&&a.isOrdinalScale(r)||(n*=e.cardinality(i,t))});else{if(!t["*"])return 1;n=t["*"].max;var r=1;e.has(ROW)&&(r*=e.cardinality(ROW,t)),e.has(COL)&&(r*=e.cardinality(COL,t)),n/=r}var i=0;return i=25>=n?1:200>n?.8:1e3>n||e.is("tick")?.7:.3}e("../globals");var a=e("../encdef");t.exports=function(e,t){return{opacity:r(e,t)}}},{"../encdef":70,"../globals":71}],65:[function(e,t,n){"use strict";function r(e,t,n,r){var a=e.marks,i={name:"subfacet",type:"group",from:t.from,properties:{enter:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:a};e.marks=[i],delete t.from;var o=i.from.transform||(i.from.transform=[]);o.push({type:"facet",groupby:n})}e("../globals"),t.exports=r},{"../globals":71}],66:[function(e,t,n){"use strict";var r=e("../util"),a=e("d3-time-format"),i=t.exports={},o=new Date(Date.UTC(2014,8,17));i.cardinality=function(e,t,n,r){var a=e.timeUnit;switch(a){case"seconds":return 60;case"minutes":return 60;case"hours":return 24;case"day":return 7;case"date":return 31;case"month":return 12;case"year":var i=t[e.name],o=t["year_"+e.name];return o?o.distinct-(i.missing>0&&n[r]?1:0):null}return null},i.formula=function(e,t){var n="utc"+e;return n+"("+t+")"},i.maxLength=function(e,t){switch(e){case"seconds":case"minutes":case"hours":case"date":return 2;case"month":case"day":var n=i.range(e,t);return n?Math.max.apply(null,n.map(function(e){return e.length})):2;case"year":return 4}var r=t.config("timeFormat");return a.utcFormat(r)(o).length},i.range=function(e,t){var n,r=t.config("timeScaleLabelLength");switch(e){case"day":n=t.config("dayScaleLabel");break;case"month":n=t.config("monthScaleLabel")}return n?r?n.map(function(e){return e.substr(0,r)}):n:void 0},i.scales=function(e){var t=e.reduce(function(t,n){var r=n.timeUnit;if(n.type===T&&r&&!t[r]){var a=i.scale.def(n.timeUnit,e);a&&(t[r]=a)}return t},{});return r.vals(t)},i.scale={},i.scale.def=function(e,t){var n=i.range(e,t);return n?{name:"time-"+e,type:"ordinal",domain:i.scale.domain(e),range:n}:null},i.isOrdinalFn=function(e){switch(e){case"seconds":case"minutes":case"hours":case"day":case"date":case"month":return!0}return!1},i.scale.type=function(e,t){return t===COLOR?"linear":i.isOrdinalFn(e)||t===COL||t===ROW?"ordinal":"linear"},i.scale.domain=function(e,t){var n=t===COLOR;switch(e){case"seconds":case"minutes":return n?[0,59]:r.range(0,60);case"hours":return n?[0,23]:r.range(0,24);case"day":return n?[0,6]:r.range(0,7);case"date":return n?[1,31]:r.range(1,32);case"month":return n?[0,11]:r.range(0,12)}return null},i.hasScale=function(e){switch(e){case"day":case"month":return!0}return!1}},{"../util":75,"d3-time-format":6}],67:[function(e,t,n){"use strict";e("./globals");var r=t.exports={};r.encodingTypes=[X,Y,ROW,COL,SIZE,SHAPE,COLOR,TEXT,DETAIL],r.shorthand={delim:"|",assign:"=",type:",",func:"_"}},{"./globals":71}],68:[function(e,t,n){"use strict";e("./globals");var r=e("datalib/src/stats"),a=t.exports={};a.types={"boolean":N,number:Q,integer:Q,date:T,string:N},a.stats=function(e){var t=r.summary(e);return t.reduce(function(e,t){return e[t.field]=t,e},{"*":{max:e.length,min:0}})}},{"./globals":71,"datalib/src/stats":29}],69:[function(e,t,n){"use strict";var r=e("./consts"),a=r.shorthand,i=e("./encdef"),o=e("./util"),s=e("./schema/schema"),u=s.encTypes,f=t.exports={};f.countRetinal=function(e){var t=0;return e.color&&t++,e.size&&t++,e.shape&&t++,t},f.has=function(e,t){var n=e&&e[t];return n&&n.name},f.isAggregate=function(e){for(var t in e)if(f.has(e,t)&&e[t].aggregate)return!0;return!1},f.forEach=function(e,t){var n=0;u.forEach(function(r){f.has(e,r)&&t(e[r],r,n++)})},f.map=function(e,t){var n=[];return u.forEach(function(r){f.has(e,r)&&n.push(t(e[r],r,e))}),n},f.reduce=function(e,t,n){var r=n;return u.forEach(function(n){f.has(e,n)&&(r=t(r,e[n],n,e))}),r},f.fields=function(e){return f.reduce(e,function(e,t){var n=e[t.name]=e[t.name]||[],r=n.containsType=n.containsType||{};return-1===n.indexOf(t)&&(n.push(t),r[t.type]=!0),e},{})},f.shorthand=function(e){return f.map(e,function(e,t){return t+a.assign+i.shorthand(e)}).join(a.delim)},f.fromShorthand=function(e){var t=o.isArray(e)?e:e.split(a.delim);return t.reduce(function(e,t){var n=t.split(a.assign),r=n[0].trim(),o=n[1];return e[r]=i.fromShorthand(o),e},{})}},{"./consts":67,"./encdef":70,"./schema/schema":73,"./util":75}],70:[function(e,t,n){"use strict";function r(e){return l(e,[N,O])||!!e.bin||c(e,T)&&!!e.timeUnit}e("./globals");var a=e("./consts"),i=a.shorthand,o=e("./compiler/time"),s=e("./util"),u=e("./schema/schema"),f=t.exports={};f.fieldRef=function(e,t){t=t||{};var n=(t.datum?"datum.":"")+(t.prefn||""),r=e.name;if(f.isCount(e))return n+"count";if(t.fn)return n+t.fn+"_"+r;if(!t.nofn&&e.bin){var a=t.bin_suffix||"_start";return n+"bin_"+r+a}return t.nofn||t.noAggregate||!e.aggregate?!t.nofn&&e.timeUnit?n+e.timeUnit+"_"+r:n+r:n+e.aggregate+"_"+r},f.shorthand=function(e){var t=a.shorthand;return(e.aggregate?e.aggregate+t.func:"")+(e.timeUnit?e.timeUnit+t.func:"")+(e.bin?"bin"+t.func:"")+(e.name||"")+t.type+e.type},f.shorthands=function(e,t){return t=t||i.delim,e.map(f.shorthand).join(t)},f.fromShorthand=function(e){var t,n=e.split(i.type),r={name:n[0].trim(),type:n[1].trim()};for(t in u.aggregate["enum"]){var a=u.aggregate["enum"][t];if(0===r.name.indexOf(a+"_")){r.name=r.name.substr(a.length+1),"count"==a&&0===r.name.length&&(r.name="*"),r.aggregate=a;break}}for(t in u.timefns){var o=u.timefns[t];if(r.name&&0===r.name.indexOf(o+"_")){r.name=r.name.substr(r.length+1),r.timeUnit=o;break}}return r.name&&0===r.name.indexOf("bin_")&&(r.name=r.name.substr(4),r.bin=!0),r};var c=f.isType=function(e,t){return e.type===t},l=f.isTypes=function(e,t){for(var n=0;n<t.length;n++)if(e.type===t[n])return!0;return!1};f.isOrdinalScale=function(e){return l(e,[N,O])||c(e,T)&&e.timeUnit&&o.isOrdinalFn(e.timeUnit)},f.isDimension=function(e){return e&&r(e)},f.isMeasure=function(e){return e&&!r(e)},f.count=function(){return{name:"*",aggregate:"count",type:Q,displayName:f.count.displayName}},f.count.displayName="Number of Records",f.isCount=function(e){return"count"===e.aggregate},f.cardinality=function(e,t,n){var r=t[e.name],a=e.type;if(n=n||{},e.bin){var i=s.getbins(r,e.bin.maxbins||u.MAXBINS_DEFAULT);return(i.stop-i.start)/i.step}if(c(e,T)){var f=o.cardinality(e,t,n,a);if(null!==f)return f}return e.aggregate?1:r.distinct-(r.missing>0&&n[a]?1:0)}},{"./compiler/time":66,"./consts":67,"./globals":71,"./schema/schema":73,"./util":75}],71:[function(e,t,n){(function(e){"use strict";var t=e||window;t.AGGREGATE="aggregate",t.RAW="raw",t.STACKED="stacked",t.INDEX="index",t.X="x",t.Y="y",t.ROW="row",t.COL="col",t.SIZE="size",t.SHAPE="shape",t.COLOR="color",t.TEXT="text",t.DETAIL="detail",t.N="N",t.O="O",t.Q="Q",t.T="T"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],72:[function(e,t,n){"use strict";t.exports=function(e){var t=["error","info","debug","warn","log"];return t.reduce(function(t,n){var r=console[n]?n:"log";return"undefined"===console[r].bind?t[n]=Function.prototype.bind.call(console[r],console,e):t[n]=console[r].bind(console,e),t},{})}},{}],73:[function(e,t,n){"use strict";e("../globals");var r=t.exports={},a=e("../util"),i=a.toMap,o=e("colorbrewer"),s=e("vega/src/transforms/Aggregate").VALID_OPS;r.util=e("./schemautil"),r.marktype={type:"string","enum":["point","tick","bar","line","area","circle","square","text"]},r.aggregate={type:"string","enum":s,supportedEnums:{Q:s,O:["median","min","max"],N:[],T:["mean","median","min","max"],"":["count"]},supportedTypes:i([Q,N,O,T,""])},r.getSupportedRole=function(e){return r.schema.properties.encoding.properties[e].supportedRole},r.timeUnits=["year","month","day","date","hours","minutes","seconds"],r.defaultTimeFn="month",r.timeUnit={type:"string","enum":r.timeUnits,supportedTypes:i([T])},r.scale_type={type:"string","enum":["linear","log","pow","sqrt","quantile"],"default":"linear",supportedTypes:i([Q])},r.field={type:"object",properties:{name:{type:"string"}}};var u=a.duplicate,f=r.util.merge;r.MAXBINS_DEFAULT=15;var c={type:["boolean","object"],"default":!1,properties:{maxbins:{type:"integer","default":r.MAXBINS_DEFAULT,minimum:2,description:"Maximum number of bins."}},supportedTypes:i([Q])},l=f(u(r.field),{type:"object",properties:{type:{type:"string","enum":[N,O,Q,T]},aggregate:r.aggregate,timeUnit:r.timeUnit,bin:c,scale:{type:"object",properties:{type:r.scale_type,nice:{type:"string","enum":["second","minute","hour","day","week","month","year"],supportedTypes:i([T])},zero:{type:"boolean",description:"Include zero","default":void 0,supportedTypes:i([Q,T])},useRawDomain:{type:"boolean","default":void 0,description:"Use the raw data range as scale domain instead of aggregated data for aggregate axis. This option does not work with sum or count aggregateas they might have a substantially larger scale range.By default, use value from config.useRawDomain."}}}}}),d=f(u(r.field),{type:"object",supportedRole:{dimension:!0},properties:{type:{type:"string","enum":[N,O,Q,T]},timeUnit:r.timeUnit,bin:c,aggregate:{type:"string","enum":["count"],supportedTypes:i([N,O])}}}),h={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0},properties:{axis:{type:"object",properties:{format:{type:"string","default":void 0,description:"The formatting pattern for axis labels. If not undefined, this will be determined by small/largeNumberFormat and the max value of the field."},grid:{type:"boolean","default":void 0,description:"A flag indicate if gridlines should be created in addition to ticks. If `grid` is unspecified, the default value is `true` for ROW and COL. For X and Y, the default value is `true` for quantitative and time fields and `false` otherwise."},layer:{type:"string","default":"back",description:'A string indicating if the axis (and any gridlines) should be placed above or below the data marks. One of "front" (default) or "back".'},orient:{type:"string","default":void 0,"enum":["top","right","left","bottom"],description:"The orientation of the axis. One of top, bottom, left or right. The orientation can be used to further specialize the axis type (e.g., a y axis oriented for the right edge of the chart)."},ticks:{type:"integer","default":5,minimum:0,description:'A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are "nice" (multiples of 2, 5, 10) and lie within the underlying scale\'s range.'},title:{type:"string","default":void 0,description:"A title for the axis. (Shows field name and its function by default.)"},maxLabelLength:{type:"integer","default":25,minimum:0,description:"Truncate labels that are too long."},labelAngle:{type:"integer","default":void 0,minimum:0,maximum:360,description:"Angle by which to rotate labels. Set to 0 to force horizontal."},titleMaxLength:{type:"integer","default":void 0,minimum:0,description:"Max length for axis title if the title is automatically generated from the field's description"},titleOffset:{type:"integer","default":void 0,description:"A title offset value for the axis."}}}}},p={type:"object",properties:{sort:{"default":"ascending",supportedTypes:i([N,O]),oneOf:[{type:"string","enum":["ascending","descending","unsorted"]},{type:"object",required:["field","op"],properties:{field:{type:"string",description:"The field name to aggregate over."},op:{type:"string","enum":s,description:"The field name to aggregate over."},order:{type:"string","enum":["ascending","descending"]}}}]}}},m={type:"object",properties:{band:{type:"object",properties:{size:{type:"integer",minimum:0,"default":void 0},padding:{type:"integer",minimum:0,"default":1}}}}},g={type:"object",properties:{legend:{type:"object",description:"Properties of a legend.",properties:{title:{type:"string","default":void 0,description:"A title for the legend. (Shows field name and its function by default.)"},orient:{type:"string","default":"right",description:'The orientation of the legend. One of "left" or "right". This determines how the legend is positioned within the scene. The default is "right".'}}}}},b={type:"object",supportedMarktypes:{text:!0},properties:{align:{type:"string","default":"right"},baseline:{type:"string","default":"middle"},color:{type:"string",role:"color","default":"#000000"},margin:{type:"integer","default":4,minimum:0},placeholder:{type:"string","default":"Abc"},font:{type:"object",properties:{weight:{type:"string","enum":["normal","bold"],"default":"normal"},size:{type:"integer","default":10,minimum:0},family:{type:"string","default":"Helvetica Neue"},style:{type:"string","default":"normal","enum":["normal","italic"]}}},format:{type:"string","default":void 0,description:"The formatting pattern for text value. If not undefined, this will be determined by small/largeNumberFormat and the max value of the field."}}},y={type:"object",supportedMarktypes:{point:!0,bar:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"integer","default":30,minimum:0,description:"Size of marks."}}},v={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"string",role:"color","default":"#4682b4",description:"Color to be used for marks."},opacity:{type:"number","default":void 0,minimum:0,maximum:1},scale:{type:"object",properties:{range:{type:["string","array"],"default":void 0,description:"Color palette, if undefined vega-lite will use data propertyto pick one from c10palette, c20palette, or ordinalPalette."},c10palette:{type:"string","default":"category10","enum":["category10","category10k","Pastel1","Pastel2","Set1","Set2","Set3"]},c20palette:{type:"string","default":"category20","enum":["category20","category20b","category20c"]},ordinalPalette:{type:"string","default":void 0,description:"Color palette to encode ordinal variables.","enum":a.keys(o)},quantitativeRange:{type:"array","default":["#AFC6A3","#09622A"],description:"Color range to encode quantitative variables.",minItems:2,maxItems:2,items:{type:"string",role:"color"}}}}}},x={type:"object",properties:{stack:{type:["boolean","object"],"default":!0,description:"Enable stacking (for bar and area marks only).",properties:{reverse:{type:"boolean","default":!1,description:"Whether to reverse the stack's sortby."},offset:{type:"string","default":void 0,"enum":["zero","center","normalize"]}}}}},_={type:"object",supportedMarktypes:{point:!0,circle:!0,square:!0},properties:{value:{type:"string","enum":["circle","square","cross","diamond","triangle-up","triangle-down"],"default":"circle",description:"Mark to be used."},filled:{type:"boolean","default":!1,description:"Whether the shape's color should be used as fill color instead of stroke color."}}},w={type:"object",supportedMarktypes:{point:!0,tick:!0,line:!0,circle:!0,square:!0}},M={properties:{height:{type:"number",minimum:0,"default":150}}},S={properties:{width:{type:"number",minimum:0,"default":150},axis:{properties:{maxLabelLength:{type:"integer","default":12,minimum:0,description:"Truncate labels that are too long."}}}}},k={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{padding:{type:"number",minimum:0,maximum:1,"default":.1}}},D={required:["name","type"]},C=f(u(l),{supportedRole:{measure:!0,dimension:!0}}),L=f(u(l),{supportedRole:{measure:!0,dimension:"ordinal-only"}}),A=f(u(l),{supportedRole:{measure:!0}}),E=f(u(C),h,m,D,p),R=u(E),U=f(u(d),D,k,p),j=f(u(U),h,M),Y=f(u(U),h,S),F=f(u(L),g,y,p),P=f(u(C),g,v,x,p),I=f(u(d),g,_,p),z=f(u(d),w,x,p),X=f(u(A),b,p),H={type:"object",properties:{formatType:{type:"string","enum":["json","csv"],"default":"json"},url:{type:"string","default":void 0},values:{type:"array","default":void 0,description:"Pass array of objects instead of a url to a file.",items:{type:"object",additionalProperties:!0}},filter:{type:"string","default":void 0,description:"A string containing the filter Vega expression. Use `datum` to refer to the current data object."},formulas:{type:"array","default":void 0,description:"Array of formula transforms. Formulas are applied before filter.",items:{type:"object",properties:{field:{type:"string",description:"The property name in which to store the computed formula value."},expr:{type:"string",description:"A string containing an expression for the formula. Use the variable `datum` to to refer to the current data object."}}}}}},q={type:"object",properties:{width:{type:"integer","default":void 0},height:{type:"integer","default":void 0},viewport:{type:"array",items:{type:"integer"},"default":void 0},gridColor:{type:"string",role:"color","default":"#000000"},gridOpacity:{type:"number",minimum:0,maximum:1,"default":.08},filterNull:{type:"object",properties:{N:{type:"boolean","default":!1},O:{type:"boolean","default":!1},Q:{type:"boolean","default":!0},T:{type:"boolean","default":!0}}},autoSortLine:{type:"boolean","default":!0},singleHeight:{type:"integer","default":200,minimum:0},singleWidth:{type:"integer","default":200,minimum:0},largeBandSize:{type:"integer","default":21,minimum:0},smallBandSize:{type:"integer","default":12,minimum:0},largeBandMaxCardinality:{type:"integer","default":10},cellPadding:{type:"number","default":.1},cellGridColor:{type:"string",role:"color","default":"#000000"},cellGridOpacity:{type:"number",minimum:0,maximum:1,"default":.25},cellGridOffset:{type:"number","default":6},cellBackgroundColor:{type:"string",role:"color","default":"rgba(0,0,0,0)"},textCellWidth:{type:"integer","default":90,minimum:0},strokeWidth:{type:"integer","default":2,minimum:0},singleBarOffset:{type:"integer","default":5,minimum:0},timeScaleLabelLength:{type:"integer","default":3,minimum:0,description:"Max length for values in dayScaleLabel and monthScaleLabel.  Zero means using full names in dayScaleLabel/monthScaleLabel."},dayScaleLabel:{type:"array",items:{type:"string"},"default":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],description:"Axis labels for day of week, starting from Sunday.(Consistent with Javascript -- See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getDay."},monthScaleLabel:{type:"array",items:{type:"string"},"default":["January","February","March","April","May","June","July","August","September","October","November","December"],description:"Axis labels for month."},characterWidth:{type:"integer","default":6},maxSmallNumber:{type:"number","default":1e4,description:"maximum number that a field will be considered smallNumber.Used for axis labelling."},smallNumberFormat:{type:"string","default":"",description:"D3 Number format for axis labels and text tables for number <= maxSmallNumber. Used for axis labelling."},largeNumberFormat:{type:"string","default":".3s",description:"D3 Number format for axis labels and text tables for number > maxSmallNumber."},timeFormat:{type:"string","default":"%Y-%m-%d",description:"Date format for axis labels."},useRawDomain:{type:"boolean","default":!1,description:"Use the raw data range as scale domain instead of aggregated data for aggregate axis. This option does not work with sum or count aggregateas they might have a substantially larger scale range.By default, use value from config.useRawDomain."}}};r.schema={$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for Vega-lite specification",type:"object",required:["marktype","encoding","data"],properties:{data:H,marktype:r.marktype,encoding:{type:"object",properties:{x:E,y:R,row:j,col:Y,size:F,color:P,shape:I,text:X,detail:z}},config:q}},r.encTypes=a.keys(r.schema.properties.encoding.properties),r.instantiate=function(){return r.util.instantiate(r.schema)}},{"../globals":71,"../util":75,"./schemautil":74,colorbrewer:3,"vega/src/transforms/Aggregate":50}],74:[function(e,t,n){"use strict";function r(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=r(t[n].constructor===Array?[]:{},t[n]):r(e[n],t[n]));return e}var a=t.exports={},i=e("../util"),o=function(e){return 0===Object.keys(e).length};a.extend=function(e,t){return a.merge(a.instantiate(t),e)},a.instantiate=function(e){var t;if(void 0===e)return void 0;if("default"in e)return t=e["default"],i.isObject(t)?i.duplicate(t):t;if("object"===e.type){var n={};for(var r in e.properties)t=a.instantiate(e.properties[r]),void 0!==t&&(n[r]=t);return n}return"array"===e.type?[]:void 0},a.subtract=function(e,t){var n={};for(var r in e){var s=t[r],u=e[r];if(!t||s!==u)if("object"==typeof u&&!i.isArray(u)&&s){var f=a.subtract(u,s);o(f)||(n[r]=f)}else(!i.isArray(u)||u.length>0)&&(n[r]=u)}return n},a.merge=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=r(e,arguments[t]);return e}},{"../util":75}],75:[function(e,t,n){"use strict";var r=t.exports=e("datalib/src/util");r.extend(r,e("datalib/src/generate")),r.extend(r,e("datalib/src/stats")),r.extend(r,e("./logger")("[VL Error]")),r.bin=e("datalib/src/bins/bins"),r.isin=function(e,t){return-1!==t.indexOf(e)},r.forEach=function(e,t,n){if(e.forEach)e.forEach.call(n,t);else for(var r in e)t.call(n,e[r],r,e)},r.reduce=function(e,t,n,r){if(e.reduce)return e.reduce.call(r,t,n);for(var a in e)n=t.call(r,n,e[a],a,e);return n},r.map=function(e,t,n){if(e.map)return e.map.call(n,t);var r=[];for(var a in e)r.push(t.call(n,e[a],a,e))},r.any=function(e,t){var n,r=0;for(n in e)if(t(e[n],n,r++))return!0;return!1},r.all=function(e,t){var n,r=0;for(n in e)if(!t(e[n],n,r++))return!1;return!0},r.getbins=function(e,t){return r.bin({min:e.min,max:e.max,maxbins:t})},r.setter=function(e,t,n,r){for(var a=0;a<t.length-1;++a)e=r||t[a]in e?e[t[a]]:e[t[a]]={};e[t[a]]=n},r.getter=function(e,t,n){for(var r=0;r<t.length;++r)e=n||t[r]in e?e[t[r]]:e[t[r]]={};return e}},{"./logger":72,"datalib/src/bins/bins":14,"datalib/src/generate":17,"datalib/src/stats":29,"datalib/src/util":32}],76:[function(e,t,n){"use strict";e("./globals");var r=e("./util"),a=e("./consts"),i={};r.extend(i,a,r),i.Encoding=e("./Encoding"),i.compiler=e("./compiler/compiler"),i.compile=i.compiler.compile,i.data=e("./data"),i.enc=e("./enc"),i.encDef=e("./encdef"),i.schema=e("./schema/schema"),i.toShorthand=i.Encoding.shorthand,i.format=e("d3-format").format,t.exports=i},{"./Encoding":54,"./compiler/compiler":56,"./consts":67,"./data":68,"./enc":69,"./encdef":70,"./globals":71,"./schema/schema":73,"./util":75,"d3-format":5}]},{},[76])(76)});
//# sourceMappingURL=vega-lite.min.js.map
